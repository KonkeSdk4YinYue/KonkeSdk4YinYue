import{a7 as r,c as v,N as g,a as f,t as C,a8 as S,w as k}from"./index-a142abcc.js";import{u as w}from"./use-touch-4a21292b.js";import{h as I,s as x,E as U,b as d,_ as V,o as _,j as b,w as p,c as B,a as u,f as h,k as D,T as y,p as N,d as H}from"./_plugin-vue_export-helper-503ae741.js";/* empty css              */import{B as A}from"./index-d0959f35.js";import"./index-5ee0598e.js";import{F}from"./index-47aa7f7c.js";import{I as P}from"./index-174d7c65.js";import{Q as T}from"./qrcode.vue.esm-49c64e3f.js";import{L as E}from"./api-ba9d528d.js";function O(e,s){const{days:o}=s;let{hours:n,minutes:t,seconds:a,milliseconds:l}=s;if(e.includes("DD")?e=e.replace("DD",r(o)):n+=o*24,e.includes("HH")?e=e.replace("HH",r(n)):t+=n*60,e.includes("mm")?e=e.replace("mm",r(t)):a+=t*60,e.includes("ss")?e=e.replace("ss",r(a)):l+=a*1e3,e.includes("S")){const i=r(l,3);e.includes("SSS")?e=e.replace("SSS",i):e.includes("SS")?e=e.replace("SS",i.slice(0,2)):e=e.replace("S",i.charAt(0))}return e}const[Q,R]=v("count-down"),j={time:g(0),format:f("HH:mm:ss"),autoStart:C,millisecond:Boolean};var L=I({name:Q,props:j,emits:["change","finish"],setup(e,{emit:s,slots:o}){const{start:n,pause:t,reset:a,current:l}=S({time:+e.time,millisecond:e.millisecond,onChange:m=>s("change",m),onFinish:()=>s("finish")}),i=x(()=>O(e.format,l.value)),c=()=>{a(+e.time),e.autoStart&&n()};return U(()=>e.time,c,{immediate:!0}),w({start:n,pause:t,reset:c}),()=>d("div",{role:"timer",class:R()},[o.default?o.default(l.value):i.value])}});const ie=k(L);const Z={components:{Default:T},props:{visible:{type:Boolean,default:!1}},data(){return{modelValue:"",imgUrl:"",showAlert:!1}},methods:{onSure(e){this.$emit("customAlertSure",this.modelValue)},onCancel(){this.$emit("alertCancel")},onRefreshImgCode(){const e=this.getImageCodeUrl();this.imgUrl=e},getImageCodeUrl(){if(this.visible){const e=Date.now().toString();return E+"/account/image/verifyCode?w=200&h=50&num=6&s="+e}else return""}},watch:{visible(e,s){e!==s&&e==!0&&(this.imgUrl=this.getImageCodeUrl())}}},q=e=>(N("data-v-50aa956a"),e=e(),H(),e),z={key:0,class:"modal-mask"},G={class:"div-wrapper"},J={class:"alert-content-div"},K=q(()=>u("div",{class:"alert-title-div"},"请输入图中的验证码",-1)),M={class:"foot-view-div"};function W(e,s,o,n,t,a){const l=P,i=F,c=A;return _(),b(y,{name:"modal-fade"},{default:p(()=>[o.visible?(_(),B("div",z,[u("div",G,[u("div",J,[K,d(l,{class:"alert-code-image",src:t.imgUrl,onClick:a.onRefreshImgCode},null,8,["src","onClick"]),d(i,{class:"field-text",type:"text",placeholder:"请输入......",modelValue:t.modelValue,"onUpdate:modelValue":s[0]||(s[0]=m=>t.modelValue=m)},null,8,["modelValue"]),u("div",M,[d(c,{class:"alert-cancel-button",onClickOnce:a.onCancel},{default:p(()=>[h("取消")]),_:1},8,["onClickOnce"]),d(c,{class:"alert-sure-button",onClick:a.onSure},{default:p(()=>[h("确定")]),_:1},8,["onClick"])])])])])):D("",!0)]),_:1})}const ce=V(Z,[["render",W],["__scopeId","data-v-50aa956a"]]);export{ie as C,ce as _};

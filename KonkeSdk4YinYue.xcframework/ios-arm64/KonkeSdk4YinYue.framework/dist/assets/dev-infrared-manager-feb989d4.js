import{_ as p,c as a,b as m,F as h,r as u,g as f,v as I,a as d,o as n,t as g,e as D}from"./_plugin-vue_export-helper-d3f0869d.js";import{_ as L}from"./nav-bar-04c40775.js";import{g as w}from"./urlparse-f25d0f77.js";import{f as l}from"./api-5dfe9da6.js";import{_ as N}from"./ic_add_room-ca6db507.js";import{a as _}from"./function-call-3431ac22.js";import"./index-932018bd.js";import"./use-touch-44153586.js";import"./index-b00f40b6.js";import"./index-f3d48844.js";const k={components:{},data(){return{devId:-1,userDevice:{},deviceList:[],devName:""}},mounted(){this.getUrlParams(),this.__eventBus.on("reload",e=>{this.getChildList()})},methods:{getUrlParams(){let e=window.location.search;const s=w(e);s!=null&&"devId"in s&&(this.devId=s.devId,console.log(this.devId),this.getDevInfo(),this.getChildList())},onClickLeft(){window.__jsb.pop()},getDevInfo(){l({userDeviceId:this.devId}).then(e=>{console.log(e),this.userDevice=e.data.userDeviceList[0],this.devName=e.data.userDeviceList[0].deviceName}).catch(e=>_(e))},getChildList(){l({parentUserDeviceId:this.devId}).then(e=>{console.log(e),this.deviceList=e.data.userDeviceList}).catch(e=>_(e))},clickItemDev(e){console.log("type",JSON.parse(e.userExtension).rcType),JSON.parse(e.userExtension).rcType=="AC"?window.__jsb.push({route:"dev-infrared-ac",params:{devId:e.userDeviceId}}):JSON.parse(e.userExtension).rcType=="TV"?window.__jsb.push({route:"dev-infrared-tv",params:{devId:e.userDeviceId}}):JSON.parse(e.userExtension).rcType=="FAN"&&window.__jsb.push({route:"dev-infrared-fan",params:{devId:e.userDeviceId}})},addDevice(){var o;let e=-1,s=["1","2","3","4","5","6"];(o=this.deviceList)==null||o.forEach(c=>{s.splice(s.indexOf(c.nodeId),1)}),console.log(s),e=s[0],window.__jsb.push({route:"dev-infrared-edit",params:{devId:this.devId,nodeId:e}})}}},C={class:"home"},x={class:"room_list"},b=["onClick"],y={class:"room_name"};function j(e,s,o,c,r,t){const v=L;return n(),a("div",C,[m(v,{class:"nav_bar",title:r.devName,onClickLeft:t.onClickLeft},null,8,["title","onClickLeft"]),(n(!0),a(h,null,u(r.deviceList,i=>(n(),a("div",x,[d("div",{class:"room_item",onClick:S=>t.clickItemDev(i)},[d("span",y,g(i.deviceName),1)],8,b)]))),256)),f(d("img",{class:"add_icon",src:N,alt:"",style:{width:"75px",height:"75px"},onClick:s[0]||(s[0]=(...i)=>t.addDevice&&t.addDevice(...i))},null,512),[[I,r.deviceList.length<6]])])}const E=p(k,[["render",j],["__scopeId","data-v-55920faa"]]);D(E).mount("#root");

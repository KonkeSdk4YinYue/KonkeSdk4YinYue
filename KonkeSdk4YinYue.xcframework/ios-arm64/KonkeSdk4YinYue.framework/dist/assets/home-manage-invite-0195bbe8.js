import{_ as S,c as m,b as a,a as _,w as n,k as i,j as c,o as s,f as p,F as T,r as U,p as C,d as b,e as x}from"./_plugin-vue_export-helper-d3f0869d.js";import"./index-932018bd.js";/* empty css              */import{B as F}from"./index-a1c7ed23.js";import{C as B}from"./index-fe31a0a1.js";import{C as R}from"./index-11fd2614.js";import{S as N}from"./index-91f33472.js";import{R as A,a as L}from"./index-d888c9f1.js";import"./index-3075c66f.js";import{F as j}from"./index-3c534bc0.js";import{_ as z}from"./nav-bar-04c40775.js";import{r as D,o as G}from"./api-5dfe9da6.js";import{a as d}from"./function-call-3431ac22.js";import"./use-route-8470f9d7.js";import"./index-f3d48844.js";import"./use-id-6112618b.js";import"./use-touch-44153586.js";import"./index-b00f40b6.js";const Y={name:"KonkeSdk4YinYueSrcApp",data(){return{homeId:"",phone:"",roleType:"User",rooms:[]}},mounted(){this.homeId=new URLSearchParams(window.location.search).get("homeId")||"",this.getRooms()},methods:{async getRooms(){try{const{data:o}=await D(),{roomList:e}=o;this.rooms=e}catch(o){console.log(o)}},async onSave(){if(!this.phone){d("请输入手机号码");return}try{let o=null;this.roleType=="User"&&(o=this.rooms.filter(e=>e.checked).map(e=>e.roomId)),await G({homeId:this.homeId,username:this.phone,roleType:this.roleType,roomIds:o}),window.__jsb.pop()}catch(o){d(o.info||"邀请失败")}}}},E=o=>(C("data-v-0ff8d5aa"),o=o(),b(),o),K={class:"home-manage"},M=E(()=>_("div",{class:"home-name-title"},"手机号码",-1)),P={style:{"background-color":"white"}},q={key:0,class:"shared-rooms"};function H(o,e,O,Q,t,u){const h=z,f=j,l=L,y=A,v=N,g=R,k=B,w=F;return s(),m("div",K,[a(h,{title:"家庭管理"}),M,a(f,{modelValue:t.phone,"onUpdate:modelValue":e[0]||(e[0]=r=>t.phone=r),placeholder:"请输入"},null,8,["modelValue"]),_("div",P,[a(y,{modelValue:t.roleType,"onUpdate:modelValue":e[1]||(e[1]=r=>t.roleType=r),direction:"horizontal",style:{padding:"16px"}},{default:n(()=>[a(l,{name:"User"},{default:n(()=>[p("普通用户")]),_:1}),a(l,{name:"Manager"},{default:n(()=>[p("管理员")]),_:1})]),_:1},8,["modelValue"])]),t.roleType=="User"?(s(),m("div",q,"共享房间")):i("",!0),t.roleType=="User"?(s(),c(k,{key:1,inset:"",style:{"margin-bottom":"16px"}},{default:n(()=>[(s(!0),m(T,null,U(t.rooms,(r,V)=>(s(),c(g,{key:V,title:r.roomName},{"right-icon":n(()=>[a(v,{modelValue:r.checked,"onUpdate:modelValue":I=>r.checked=I,size:"20"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["title"]))),128))]),_:1})):i("",!0),a(w,{type:"primary",color:"#FD7D28FF",class:"primary-button",onClick:u.onSave},{default:n(()=>[p("立即邀请")]),_:1},8,["onClick"])])}const J=S(Y,[["render",H],["__scopeId","data-v-0ff8d5aa"]]);x(J).mount("#root");

import{_ as g,c as k,a,f as s,t as w,o as v,p as b,e as I,g as T}from"./_plugin-vue_export-helper-847bea74.js";import{I as L}from"./index-2a9d5afa.js";import{I as j}from"./index-e6c0668b.js";import{_ as C}from"./nav-bar-d6d54b8f.js";import{D as u,F as S}from"./api-35f7d62a.js";import{a as p}from"./function-call-4b348ee5.js";import"./use-expose-9f775875.js";import"./index-fdc8010c.js";import"./use-touch-b5fdabb1.js";import"./index-5f54bfde.js";const x=""+new URL("ic_edit_name-b877069b.svg",import.meta.url).href;const B={name:"KonkeSdk4YinYueSrcApp",data(){return{userHeader:"",userToken:{}}},mounted(){window.__eventBus.on("reload",o=>{window.__jsb.getLoginUserInfo().then(e=>{var n,i;this.userToken=e.userToken,this.userHeader=u+((i=(n=this.userToken)==null?void 0:n.user)==null?void 0:i.avatar),console.log(this.userToken)}).catch(e=>{p(e)})}),window.__jsb.getLoginUserInfo().then(o=>{var e,n;this.userToken=o.userToken,this.userHeader=u+((n=(e=this.userToken)==null?void 0:e.user)==null?void 0:n.avatar),console.log(this.userToken)}).catch(o=>{p(o)})},methods:{onClickLeft(){window.__jsb.pop()},logout(){S().then(o=>{window.__jsb.setLoginUserInfo(null),window.__jsb.replace({route:"login"})})},toForgetPwd(){window.__jsb.push({route:"forgetpassword"})},toEditName(){window.__jsb.push({route:"user-editnickname"})}}},_=o=>(b("data-v-f7fd2fb2"),o=o(),I(),o),N={class:"home"},U={class:"user"},A={class:"user_header"},E={class:"user_nickname"},F=_(()=>s("div",{class:"divider"},null,-1)),H=_(()=>s("span",{class:"change_pwd_hint"}," 修改密码",-1)),y=_(()=>s("div",{class:"divider"},null,-1));function P(o,e,n,i,c,t){var d,l;const m=C,h=j,f=L;return v(),k("div",N,[a(m,{class:"nav_bar",title:"我的",onClickLeft:t.onClickLeft},null,8,["onClickLeft"]),s("div",U,[s("div",A,[a(h,{width:"70px",height:"70px",src:c.userHeader},null,8,["src"])]),s("div",E,w((l=(d=c.userToken)==null?void 0:d.user)==null?void 0:l.nickname),1),s("img",{class:"user_nickname_edit",src:x,onClick:e[0]||(e[0]=(...r)=>t.toEditName&&t.toEditName(...r))})]),F,s("div",{class:"change_pwd",onClick:e[1]||(e[1]=(...r)=>t.toForgetPwd&&t.toForgetPwd(...r))},[H,a(f,{class:"right",name:"arrow"})]),y,s("div",{class:"login_out",onClick:e[2]||(e[2]=(...r)=>t.logout&&t.logout(...r))},"退出登录")])}const D=g(B,[["render",P],["__scopeId","data-v-f7fd2fb2"]]);T(D).mount("#root");

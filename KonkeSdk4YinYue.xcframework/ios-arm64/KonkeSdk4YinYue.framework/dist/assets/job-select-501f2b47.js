import{_ as g,c as e,a,b as n,F as d,r as m,d as L,o as i,n as j,t as h,i as k}from"./_plugin-vue_export-helper-ae94e834.js";/* empty css              */import{L as w}from"./index-5198b2b7.js";import{_ as A}from"./navbar-dd7c7647.js";import{_ as C}from"./safe-area-top-6391331c.js";import{A as b}from"./api-3777ac7b.js";import{a as J}from"./function-call-d8608672.js";import{O as S}from"./index-6f826b23.js";import"./use-expose-833097fe.js";import"./index-c49f2c8f.js";import"./use-touch-b8f7fc8d.js";import"./on-popup-reopen-34d1e964.js";import"./interceptor-c174082f.js";import"./constant-eb256a74.js";const x={name:"PersonalAlbum",components:{},data(){return{nickname:"",loading:!1,jobList:[],typeList:[],jobs:[]}},computed:{},created(){this.getJobList()},methods:{handleSelectType(s){this.typeList=this.typeList.map(t=>(t.active=!1,t)),this.typeList[s].active=!0,this.jobs=this.jobList[s].jobs},async getJobList(){var s;try{const{data:t}=await b.getJobList();this.jobList=t,this.typeList=this.jobList.map((c,_)=>({type:c.type,active:_===0})),this.jobs=(s=this.jobList[0])==null?void 0:s.jobs}catch(t){console.log(t)}},async handleSubmitJob(s){this.loading=!0;try{await b.updateJob({job:s}),__jsb.pop()}catch(t){J(t.errMsg||"修改失败")}finally{this.loading=!1}}}},B={class:"job-select"},T={class:"container"},F={class:"list type-list"},I=["onClick"],N={class:"list job-list"},O=["onClick"],P={class:"loading-container"};function V(s,t,c,_,r,p){const u=C,y=A,v=w,f=S;return i(),e("div",B,[a(u),a(y,{title:"选择职业"}),n("div",T,[n("div",F,[(i(!0),e(d,null,m(r.typeList,(o,l)=>(i(),e("div",{class:j(["item type-item",{active:o.active}]),key:o.type,onClick:D=>p.handleSelectType(l)},h(o.type),11,I))),128))]),n("div",N,[(i(!0),e(d,null,m(r.jobs,o=>(i(),e("div",{class:"item job-item",key:o,onClick:l=>p.handleSubmitJob(o)},h(o),9,O))),128))])]),a(f,{show:r.loading},{default:L(()=>[n("div",P,[a(v)])]),_:1},8,["show"])])}const z=g(x,[["render",V],["__scopeId","data-v-dbc118b4"]]);k(z).mount("#root");

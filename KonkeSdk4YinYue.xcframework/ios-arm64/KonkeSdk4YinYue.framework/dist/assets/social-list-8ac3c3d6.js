import{_ as A,c,a as r,d as h,o as i,F as u,r as p,b as n,t as a,l as w,f as d,j as v,e as y,p as P,h as F,i as T}from"./_plugin-vue_export-helper-ae94e834.js";import{T as M,a as N}from"./index-229bfbdd.js";import"./index-015663ed.js";import"./index-5198b2b7.js";import{P as V}from"./index-ca2a2be7.js";import{I as S}from"./index-9cad779b.js";import{_ as C}from"./navbar-dd7c7647.js";import{_ as G}from"./safe-area-top-6391331c.js";import{G as x,a as E}from"./gender_male_icon-54da54d1.js";import{E as B}from"./notice_empty_icon-496ab72d.js";import{R as U}from"./real_person-47fbf4f0.js";import{A as m}from"./api-3777ac7b.js";import"./use-id-b8b960f0.js";import"./use-expose-833097fe.js";import"./use-route-fa444ad9.js";import"./use-tab-status-ea9b54fd.js";import"./on-popup-reopen-34d1e964.js";import"./constant-eb256a74.js";import"./interceptor-c174082f.js";import"./use-touch-b8f7fc8d.js";const j=""+new URL("close_number_icon-5db8f077.svg",import.meta.url).href;const L={name:"AssignmentList",data(){return{EmptyIcon:B,CloseNumberIcon:j,RealPerson:U,GenderFemaleIcon:x,GenderMaleIcon:E,refreshing:!1,active:0,countInfo:{},friends:[],followers:[],follows:[],followMinTime:0,friendMinTime:0,followerMinTime:0}},created(){this.getPageParams(),this.getCounts(),this.getFriends(),this.getFollowers(),this.getFollows()},methods:{async getPageParams(){try{const o=await __jsb.getPageParams();this.active=(o==null?void 0:o.index)||0}catch(o){console.log(o)}},onRefresh(){this.refreshing=!0,this.friendMinTime=0,this.followMinTime=0,this.followerMinTime=0,this.getCounts(),this.active===0&&this.getFriends(),this.active===1&&this.getFollows(),this.active===2&&this.getFollowers()},async getCounts(){const{data:o}=await m.getCounts();this.countInfo=o},async getFriends(){var l;const{data:o}=await m.getFriends({minTime:this.friendMinTime||0});Array.isArray(this.friends)&&this.friends.length>0&&!this.refreshing?this.friends=[...this.friends,...o]:this.friends=o,this.refreshing=!1,this.friendMinTime=(l=o[o.length-1])==null?void 0:l.time},async getFollowers(){var l;const{data:o}=await m.getFollowers({minTime:this.followerMinTime||0});Array.isArray(this.followers)&&this.followers.length>0&&!this.refreshing?this.followers=[...this.followers,...o]:this.followers=o,this.refreshing=!1,this.followerMinTime=(l=o[o.length-1])==null?void 0:l.time},async getFollows(){var l;const o=[{gender:2,affinityRelateScore:12,time:1678615895e3,id:84073,age:25,headPic:"https://cdn.static.taoyuapp.com/headPic/84073/4b5a84c654b542b7809030e1be285ff2.jpeg",isRealPAuth:!0,personalitySign:null,otherAccId:"taoyu_84073",nickName:"小花"},{gender:0,affinityRelateScore:0,time:1678291711e3,id:35117,age:null,headPic:null,isRealPAuth:!1,personalitySign:null,otherAccId:"taoyu_35117",nickName:"游客835400011"}];Array.isArray(this.follows)&&this.follows.length>0&&!this.refreshing?this.follows=[...this.follows,...o]:this.follows=o,this.follows=o,this.refreshing=!1,this.followMinTime=(l=o[o.length-1])==null?void 0:l.time}}},I=o=>(P("data-v-6044ef52"),o=o(),F(),o),z={class:"social-list"},D={key:0,class:"list"},q={class:"info"},H={class:"nickname"},J={class:"gender-container"},K={class:"number"},O={key:1,class:"empty"},Q=I(()=>n("div",{class:"tips"},"暂无内容",-1)),W={key:0,class:"list"},X={class:"info"},Y={class:"nickname"},Z={class:"gender-container"},$={class:"number"},ee={key:1,class:"empty"},se=I(()=>n("div",{class:"tips"},"暂无内容",-1)),oe={key:0,class:"list"},re={class:"info"},ne={class:"nickname"},le={class:"gender-container"},ie={class:"number"},te={key:1,class:"empty"},ce=I(()=>n("div",{class:"tips"},"暂无内容",-1));function ae(o,l,de,fe,s,f){const b=G,R=C,t=S,g=V,_=N,k=M;return i(),c("div",z,[r(b),r(R,{showBorder:!1}),r(k,{active:s.active,"onUpdate:active":l[3]||(l[3]=e=>s.active=e),animated:""},{default:h(()=>[r(_,{title:`好友 ${s.countInfo.friends||0}`},{default:h(()=>[r(g,{modelValue:s.refreshing,"onUpdate:modelValue":l[0]||(l[0]=e=>s.refreshing=e),onRefresh:f.onRefresh},{default:h(()=>[Array.isArray(s.friends)&&s.friends.length?(i(),c("div",D,[(i(!0),c(u,null,p(s.friends,e=>(i(),c("div",{class:"item",key:e.id},[r(t,{class:"avatar",src:e.headPic,width:"72",height:"72",radius:"30",fit:"cover"},null,8,["src"]),n("div",q,[n("div",H,a(e==null?void 0:e.nickName),1),n("div",J,[n("div",{class:"gender",style:w((e==null?void 0:e.gender)!==2?{color:"rgba(84, 101, 255, 1)",background:"rgba(84, 101, 255, 0.1)"}:{})},[r(t,{src:(e==null?void 0:e.gender)===1?s.GenderMaleIcon:s.GenderFemaleIcon,width:"20",height:"20"},null,8,["src"]),d(" "+a(e==null?void 0:e.age),1)],4),e!=null&&e.isRealPAuth?(i(),v(t,{key:0,src:s.RealPerson,width:"40",height:"18",class:"real"},null,8,["src"])):y("",!0),n("div",K,[d(a(e.affinityRelateScore)+" ",1),r(t,{src:s.CloseNumberIcon,width:"14",height:"14"},null,8,["src"])])])])]))),128))])):(i(),c("div",O,[r(t,{src:s.EmptyIcon,width:"120",height:"120"},null,8,["src"]),Q]))]),_:1},8,["modelValue","onRefresh"])]),_:1},8,["title"]),r(_,{title:`关注 ${s.countInfo.follows||0}`},{default:h(()=>[r(g,{modelValue:s.refreshing,"onUpdate:modelValue":l[1]||(l[1]=e=>s.refreshing=e),onRefresh:f.onRefresh},{default:h(()=>[Array.isArray(s.follows)&&s.follows.length?(i(),c("div",W,[(i(!0),c(u,null,p(s.follows,e=>(i(),c("div",{class:"item",key:e.id},[r(t,{class:"avatar",src:e.headPic,width:"72",height:"72",radius:"30",fit:"cover"},null,8,["src"]),n("div",X,[n("div",Y,a(e==null?void 0:e.nickName),1),n("div",Z,[n("div",{class:"gender",style:w((e==null?void 0:e.gender)!==2?{color:"rgba(84, 101, 255, 1)",background:"rgba(84, 101, 255, 0.1)"}:{})},[r(t,{src:(e==null?void 0:e.gender)===1?s.GenderMaleIcon:s.GenderFemaleIcon,width:"20",height:"20"},null,8,["src"]),d(" "+a(e==null?void 0:e.age),1)],4),e!=null&&e.isRealPAuth?(i(),v(t,{key:0,src:s.RealPerson,width:"40",height:"18",class:"real"},null,8,["src"])):y("",!0),n("div",$,[d(a(e.affinityRelateScore)+" ",1),r(t,{src:s.CloseNumberIcon,width:"14",height:"14"},null,8,["src"])])])])]))),128))])):(i(),c("div",ee,[r(t,{src:s.EmptyIcon,width:"120",height:"120"},null,8,["src"]),se]))]),_:1},8,["modelValue","onRefresh"])]),_:1},8,["title"]),r(_,{title:`粉丝 ${s.countInfo.followers||0}`},{default:h(()=>[r(g,{modelValue:s.refreshing,"onUpdate:modelValue":l[2]||(l[2]=e=>s.refreshing=e),onRefresh:f.onRefresh},{default:h(()=>[Array.isArray(s.followers)&&s.followers.length?(i(),c("div",oe,[(i(!0),c(u,null,p(s.followers,e=>(i(),c("div",{class:"item",key:e.id},[r(t,{class:"avatar",src:e.headPic,width:"72",height:"72",radius:"30",fit:"cover"},null,8,["src"]),n("div",re,[n("div",ne,a(e==null?void 0:e.nickName),1),n("div",le,[n("div",{class:"gender",style:w((e==null?void 0:e.gender)!==2?{color:"rgba(84, 101, 255, 1)",background:"rgba(84, 101, 255, 0.1)"}:{})},[r(t,{src:(e==null?void 0:e.gender)===1?s.GenderMaleIcon:s.GenderFemaleIcon,width:"20",height:"20"},null,8,["src"]),d(" "+a(e==null?void 0:e.age),1)],4),e!=null&&e.isRealPAuth?(i(),v(t,{key:0,src:s.RealPerson,width:"40",height:"18",class:"real"},null,8,["src"])):y("",!0),n("div",ie,[d(a(e.affinityRelateScore)+" ",1),r(t,{src:s.CloseNumberIcon,width:"14",height:"14"},null,8,["src"])])])])]))),128))])):(i(),c("div",te,[r(t,{src:s.EmptyIcon,width:"120",height:"120"},null,8,["src"]),ce]))]),_:1},8,["modelValue","onRefresh"])]),_:1},8,["title"])]),_:1},8,["active"])])}const he=A(L,[["render",ae],["__scopeId","data-v-6044ef52"]]);T(he).mount("#root");

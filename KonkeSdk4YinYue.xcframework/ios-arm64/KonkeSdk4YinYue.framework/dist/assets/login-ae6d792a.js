import{_ as m,c as u,a as t,b as a,w as g,f as p,o as w,p as h,d as f,e as k}from"./_plugin-vue_export-helper-d3f0869d.js";import{I as b}from"./index-932018bd.js";/* empty css              */import{B as v}from"./index-a1c7ed23.js";import"./index-11fd2614.js";import{F as y}from"./index-3c534bc0.js";import{K as l,$ as C,a0 as V}from"./api-5dfe9da6.js";import{a as i}from"./function-call-3431ac22.js";import"./use-route-8470f9d7.js";import"./index-f3d48844.js";import"./use-id-6112618b.js";import"./use-touch-44153586.js";import"./index-b00f40b6.js";const x={name:"KonkeSdk4YinYueSrcApp",data(){return{phone:"",pwd:""}},mounted(){try{const o=l+"/account/image/verifyCode";C.get(o,{responseType:"blob"}).then(e=>{})}catch{}window.__jsb.getPageParams(o=>{console.log(o)}),this.testGetToken()},methods:{async testGetToken(){try{const o=await window.__jsb.getToken();console.log(o,"await token")}catch(o){console.log(o)}},async login(){if(this.phone==""){i("请输入手机号");return}if(this.pwd==""){i("请输入密码");return}V({username:this.phone,userPassword:this.pwd}).then(o=>{window.__jsb.setLoginUserInfo(o.data).then(e=>{window.__jsb.replace({route:"smarthome"})})}).catch(o=>{i(o.info)})},toRegister(){const o=l+"/h5/konke/reg?redirect=doClose";window.__jsb.goToAppWebview({url:o,title:"注册"})},toForget(){const o=window.__cloudConfig_appKey,e=l+"/h5/konke/forget?redirect=doClose&appKey="+o;window.__jsb.goToAppWebview({url:e,title:"忘记密码"})},pop(){window.__jsb.pop()}}},F=o=>(h("data-v-3ed3acb7"),o=o(),f(),o),T={class:"home"},j={class:"ic_back"},I=F(()=>t("div",{class:"login_title"},"欢迎登录",-1)),S={class:"input_phone"},A={class:"input_pwd"},B={class:"login_btn"},U={class:"bottom"};function K(o,e,P,R,r,n){const d=b,c=y,_=v;return w(),u("div",T,[t("div",j,[a(d,{name:"arrow-left",color:"#444444",onClick:n.pop},null,8,["onClick"])]),I,t("div",S,[a(c,{clearable:"",style:{"background-color":"#Fafafa"},modelValue:r.phone,"onUpdate:modelValue":e[0]||(e[0]=s=>r.phone=s),type:"tel",maxlength:"50",placeholder:"请输入手机号码","clear-icon":"clear"},null,8,["modelValue"])]),t("div",A,[a(c,{clearable:"",maxlength:"50",style:{"background-color":"#Fafafa"},modelValue:r.pwd,"onUpdate:modelValue":e[1]||(e[1]=s=>r.pwd=s),type:"password",placeholder:"请输入密码"},null,8,["modelValue"])]),t("div",B,[a(_,{round:"",onClick:n.login,color:"#FD7D28",type:"primary",size:"large"},{default:g(()=>[p("登录 ")]),_:1},8,["onClick"])]),t("div",{class:"forget",onClick:e[2]||(e[2]=(...s)=>n.toForget&&n.toForget(...s))},"忘记密码"),t("div",U,[p(" 还没有账号? "),t("a",{class:"register_hint",onClick:e[3]||(e[3]=(...s)=>n.toRegister&&n.toRegister(...s))},"注册")])])}const N=m(x,[["render",K],["__scopeId","data-v-3ed3acb7"]]);k(N).mount("#root");

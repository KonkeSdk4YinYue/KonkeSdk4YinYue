import{_ as m,c as a,b as p,F as h,r as u,g as f,v as I,a as c,o as n,t as g,e as D}from"./_plugin-vue_export-helper-4dcb9733.js";import{_ as L}from"./nav-bar-2d16eeee.js";import{g as w}from"./urlparse-f25d0f77.js";import{f as l}from"./api-8276f17b.js";import{_ as k}from"./ic_add_room-ca6db507.js";import{a as v}from"./function-call-fc609343.js";import"./index-911a1983.js";import"./use-touch-3e361956.js";import"./index-bc3726e2.js";import"./index-16a23f12.js";const C={components:{},data(){return{devId:-1,userDevice:{},deviceList:[],devName:""}},mounted(){this.getUrlParams(),this.__eventBus.on("reload",e=>{this.getChildList()})},methods:{getUrlParams(){let e=window.location.search;const t=w(e);t!=null&&"devId"in t&&(this.devId=t.devId,console.log(this.devId),this.getDevInfo(),this.getChildList())},onClickLeft(){window.__jsb.pop()},getDevInfo(){l({userDeviceId:this.devId}).then(e=>{console.log(e),this.userDevice=e.data.userDeviceList[0],this.devName=e.data.userDeviceList[0].deviceName}).catch(e=>v(e))},getChildList(){l({parentUserDeviceId:this.devId}).then(e=>{console.log(e),this.deviceList=e.data.userDeviceList}).catch(e=>v(e))},clickItemDev(e){console.log("type",JSON.parse(e.userExtension).rcType),JSON.parse(e.userExtension).rcType=="AC"?window.__jsb.push({route:"dev-infrared-ac",params:{devId:e.userDeviceId}}):JSON.parse(e.userExtension).rcType=="TV"&&window.__jsb.push({route:"dev-infrared-tv",params:{devId:e.userDeviceId}})},addDevice(){var t,r,d,i;let e=-1;(i=(d=(r=(t=this.userDevice)==null?void 0:t.cache)==null?void 0:r.extension)==null?void 0:d.nodeList)==null||i.forEach(s=>{!("userDeviceId"in s)&&e==-1&&(e=s.nodeId)}),window.__jsb.push({route:"dev-infrared-edit",params:{devId:this.devId,nodeId:e}})}}},N={class:"home"},x={class:"room_list"},b=["onClick"],y={class:"room_name"};function j(e,t,r,d,i,s){const _=L;return n(),a("div",N,[p(_,{class:"nav_bar",title:i.devName,onClickLeft:s.onClickLeft},null,8,["title","onClickLeft"]),(n(!0),a(h,null,u(i.deviceList,o=>(n(),a("div",x,[c("div",{class:"room_item",onClick:S=>s.clickItemDev(o)},[c("span",y,g(o.deviceName),1)],8,b)]))),256)),f(c("img",{class:"add_icon",src:k,alt:"",style:{width:"75px",height:"75px"},onClick:t[0]||(t[0]=(...o)=>s.addDevice&&s.addDevice(...o))},null,512),[[I,i.deviceList.length<6]])])}const E=m(C,[["render",j],["__scopeId","data-v-971e8219"]]);D(E).mount("#root");

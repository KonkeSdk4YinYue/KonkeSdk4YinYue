import{k as Se,l as ke,j as D,r as S,n as re,q as Lt,i as M,s as J,t as ie,u as ge,v as Z,x as me,y as Le,z as ve,A as Ie,B as _t,h as _,b as u,C as zt,m as Q,T as Ze,D as Je,E as Qe,F as Rt,G as et,e as Vt,g as Mt}from"./_plugin-vue_export-helper-7ce4fc90.js";const O=e=>e!=null,fe=e=>typeof e=="function",se=e=>e!==null&&typeof e=="object",tt=e=>se(e)&&fe(e.then)&&fe(e.catch),nt=e=>typeof e=="number"||/^\d+(\.\d+)?$/.test(e),Ft=()=>Be?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function Nt(){}const z=Object.assign,Be=typeof window<"u";function _e(e,t){const n=t.split(".");let o=e;return n.forEach(a=>{var l;o=se(o)&&(l=o[a])!=null?l:""}),o}function pt(e,t,n){return t.reduce((o,a)=>((!n||e[a]!==void 0)&&(o[a]=e[a]),o),{})}const ze=e=>Array.isArray(e)?e:[e],W=null,k=[Number,String],j={type:Boolean,default:!0},Ro=e=>({type:e,required:!0}),jt=e=>({type:Number,default:e}),Yt=e=>({type:k,default:e}),C=e=>({type:String,default:e});var ee=typeof window<"u";function Re(e){return ee?requestAnimationFrame(e):-1}function Wt(e){ee&&cancelAnimationFrame(e)}function Ut(e){const t=Se(e,null);if(t){const n=J(),{link:o,unlink:a,internalChildren:l}=t;o(n),ke(()=>a(n));const d=D(()=>l.indexOf(n));return{parent:t,index:d}}return{parent:null,index:S(-1)}}function qt(e){const t=[],n=o=>{Array.isArray(o)&&o.forEach(a=>{var l;_t(a)&&(t.push(a),(l=a.component)!=null&&l.subTree&&(t.push(a.component.subTree),n(a.component.subTree.children)),a.children&&n(a.children))})};return n(e),t}var Ve=(e,t)=>{const n=e.indexOf(t);return n===-1?e.findIndex(o=>t.key!==void 0&&t.key!==null&&o.type===t.type&&o.key===t.key):n};function Ht(e,t,n){const o=qt(e.subTree.children);n.sort((l,d)=>Ve(o,l.vnode)-Ve(o,d.vnode));const a=n.map(l=>l.proxy);t.sort((l,d)=>{const c=a.indexOf(l),r=a.indexOf(d);return c-r})}function Vo(e){const t=ie([]),n=ie([]),o=J();return{children:t,linkChildren:l=>{ve(e,Object.assign({link:r=>{r.proxy&&(n.push(r),t.push(r.proxy),Ht(o,t,n))},unlink:r=>{const s=n.indexOf(r);t.splice(s,1),n.splice(s,1)},children:t,internalChildren:n},l))}}}var Ce=1e3,xe=60*Ce,Ee=60*xe,Me=24*Ee;function Kt(e){const t=Math.floor(e/Me),n=Math.floor(e%Me/Ee),o=Math.floor(e%Ee/xe),a=Math.floor(e%xe/Ce),l=Math.floor(e%Ce);return{total:e,days:t,hours:n,minutes:o,seconds:a,milliseconds:l}}function Gt(e,t){return Math.floor(e/1e3)===Math.floor(t/1e3)}function Mo(e){let t,n,o,a;const l=S(e.time),d=D(()=>Kt(l.value)),c=()=>{o=!1,Wt(t)},r=()=>Math.max(n-Date.now(),0),s=y=>{var I,T;l.value=y,(I=e.onChange)==null||I.call(e,d.value),y===0&&(c(),(T=e.onFinish)==null||T.call(e))},f=()=>{t=Re(()=>{o&&(s(r()),l.value>0&&f())})},g=()=>{t=Re(()=>{if(o){const y=r();(!Gt(y,l.value)||y===0)&&s(y),l.value>0&&g()}})},m=()=>{ee&&(e.millisecond?f():g())},x=()=>{o||(n=Date.now()+l.value,o=!0,m())},E=(y=e.time)=>{c(),l.value=y};return Ie(c),me(()=>{a&&(o=!0,a=!1,m())}),re(()=>{o&&(c(),a=!0)}),{start:x,pause:c,reset:E,current:d}}function ot(e){let t;ge(()=>{e(),Z(()=>{t=!0})}),me(()=>{t&&e()})}function Oe(e,t,n={}){if(!ee)return;const{target:o=window,passive:a=!1,capture:l=!1}=n;let d=!1,c;const r=g=>{if(d)return;const m=Le(g);m&&!c&&(m.addEventListener(e,t,{capture:l,passive:a}),c=!0)},s=g=>{if(d)return;const m=Le(g);m&&c&&(m.removeEventListener(e,t,l),c=!1)};ke(()=>s(o)),re(()=>s(o)),ot(()=>r(o));let f;return Lt(o)&&(f=M(o,(g,m)=>{s(m),r(g)})),()=>{f==null||f(),s(o),d=!0}}var ue,ye;function Xt(){if(!ue&&(ue=S(0),ye=S(0),ee)){const e=()=>{ue.value=window.innerWidth,ye.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:ue,height:ye}}var Zt=/scroll|auto|overlay/i,Jt=ee?window:void 0;function Qt(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function en(e,t=Jt){let n=e;for(;n&&n!==t&&Qt(n);){const{overflowY:o}=window.getComputedStyle(n);if(Zt.test(o))return n;n=n.parentNode}return t}var at=Symbol("van-field");function Fo(e){const t=Se(at,null);t&&!t.customValue.value&&(t.customValue.value=e,M(e,()=>{t.resetValidation(),t.validateWithTrigger("onChange")}))}function Fe(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function it(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function lt(e){Fe(window,e),Fe(document.body,e)}const tn=Ft();function nn(){tn&&lt(it())}const on=e=>e.stopPropagation();function le(e,t){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),t&&on(e)}Xt();function $(e){if(O(e))return nt(e)?`${e}px`:String(e)}function an(e){if(O(e)){if(Array.isArray(e))return{width:$(e[0]),height:$(e[1])};const t=$(e);return{width:t,height:t}}}function ln(e){const t={};return e!==void 0&&(t.zIndex=+e),t}const rn=/-(\w)/g,rt=e=>e.replace(rn,(t,n)=>n.toUpperCase()),sn=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,"");function No(e,t=2){let n=e+"";for(;n.length<t;)n="0"+n;return n}function Ne(e,t,n){const o=e.indexOf(t);return o===-1?e:t==="-"&&o!==0?e.slice(0,o):e.slice(0,o+1)+e.slice(o).replace(n,"")}function cn(e,t=!0,n=!0){t?e=Ne(e,".",/\./g):e=e.split(".")[0],n?e=Ne(e,"-",/-/g):e=e.replace(/-/,"");const o=t?/[^-0-9.]/g:/[^-0-9]/g;return e.replace(o,"")}const{hasOwnProperty:un}=Object.prototype;function dn(e,t,n){const o=t[n];O(o)&&(!un.call(e,n)||!se(o)?e[n]=o:e[n]=st(Object(e[n]),o))}function st(e,t){return Object.keys(t).forEach(n=>{dn(e,t,n)}),e}var fn={name:"姓名",tel:"电话",save:"保存",confirm:"确认",cancel:"取消",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>`${e}年${t}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:e=>`${e}折`,condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>`${e}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}};const pe=S("zh-CN"),je=ie({"zh-CN":fn}),gn={messages(){return je[pe.value]},use(e,t){pe.value=e,this.add({[e]:t})},add(e={}){st(je,e)}};var mn=gn;function vn(e){const t=rt(e)+".";return(n,...o)=>{const a=mn.messages(),l=_e(a,t+n)||_e(a,n);return fe(l)?l(...o):l}}function we(e,t){return t?typeof t=="string"?` ${e}--${t}`:Array.isArray(t)?t.reduce((n,o)=>n+we(e,o),""):Object.keys(t).reduce((n,o)=>n+(t[o]?we(e,o):""),""):""}function hn(e){return(t,n)=>(t&&typeof t!="string"&&(n=t,t=""),t=t?`${e}__${t}`:e,`${t}${we(t,n)}`)}function R(e){const t=`van-${e}`;return[t,hn(t),vn(t)]}const ct="van-hairline",yn=`${ct}--surround`,bn=`${ct}--top-bottom`,Cn="van-haptics-feedback",xn=Symbol("van-form");function En(e,{args:t=[],done:n,canceled:o}){if(e){const a=e.apply(null,t);tt(a)?a.then(l=>{l?n():o&&o()}).catch(Nt):a?n():o&&o()}else n()}function F(e){return e.install=t=>{const{name:n}=e;n&&(t.component(n,e),t.component(rt(`-${n}`),e))},e}const wn=Symbol();function Te(e){const t=J();t&&z(t.proxy,e)}const ut={to:[String,Object],url:String,replace:Boolean};function Sn({to:e,url:t,replace:n,$router:o}){e&&o?o[n?"replace":"push"](e):t&&(n?location.replace(t):location.href=t)}function dt(){const e=J().proxy;return()=>Sn(e)}const[kn,Ye]=R("badge"),In={dot:Boolean,max:k,tag:C("div"),color:String,offset:Array,content:k,showZero:j,position:C("top-right")};var Bn=_({name:kn,props:In,setup(e,{slots:t}){const n=()=>{if(t.content)return!0;const{content:c,showZero:r}=e;return O(c)&&c!==""&&(r||c!==0&&c!=="0")},o=()=>{const{dot:c,max:r,content:s}=e;if(!c&&n())return t.content?t.content():O(r)&&nt(s)&&+s>+r?`${r}+`:s},a=c=>c.startsWith("-")?c.replace("-",""):`-${c}`,l=D(()=>{const c={background:e.color};if(e.offset){const[r,s]=e.offset,{position:f}=e,[g,m]=f.split("-");t.default?(typeof s=="number"?c[g]=$(g==="top"?s:-s):c[g]=g==="top"?$(s):a(s),typeof r=="number"?c[m]=$(m==="left"?r:-r):c[m]=m==="left"?$(r):a(r)):(c.marginTop=$(s),c.marginLeft=$(r))}return c}),d=()=>{if(n()||e.dot)return u("div",{class:Ye([e.position,{dot:e.dot,fixed:!!t.default}]),style:l.value},[o()])};return()=>{if(t.default){const{tag:c}=e;return u(c,{class:Ye("wrapper")},{default:()=>[t.default(),d()]})}return d()}}});const On=F(Bn);let ft=2e3;const Tn=()=>++ft,Pn=e=>{ft=e},[gt,$n]=R("config-provider"),mt=Symbol(gt),An={tag:C("div"),theme:C("light"),zIndex:Number,themeVars:Object,themeVarsDark:Object,themeVarsLight:Object,iconPrefix:String};function Dn(e){const t={};return Object.keys(e).forEach(n=>{t[`--van-${sn(n)}`]=e[n]}),t}_({name:gt,props:An,setup(e,{slots:t}){const n=D(()=>Dn(z({},e.themeVars,e.theme==="dark"?e.themeVarsDark:e.themeVarsLight)));if(Be){const o=()=>{document.documentElement.classList.add(`van-theme-${e.theme}`)},a=(l=e.theme)=>{document.documentElement.classList.remove(`van-theme-${l}`)};M(()=>e.theme,(l,d)=>{d&&a(d),o()},{immediate:!0}),me(o),re(a),Ie(a)}return ve(mt,e),zt(()=>{e.zIndex!==void 0&&Pn(e.zIndex)}),()=>u(e.tag,{class:$n(),style:n.value},{default:()=>{var o;return[(o=t.default)==null?void 0:o.call(t)]}})}});const[Ln,We]=R("icon"),_n=e=>e==null?void 0:e.includes("/"),zn={dot:Boolean,tag:C("i"),name:String,size:k,badge:k,color:String,badgeProps:Object,classPrefix:String};var Rn=_({name:Ln,props:zn,setup(e,{slots:t}){const n=Se(mt,null),o=D(()=>e.classPrefix||(n==null?void 0:n.iconPrefix)||We());return()=>{const{tag:a,dot:l,name:d,size:c,badge:r,color:s}=e,f=_n(d);return u(On,Q({dot:l,tag:a,class:[o.value,f?"":`${o.value}-${d}`],style:{color:s,fontSize:$(c)},content:r},e.badgeProps),{default:()=>{var g;return[(g=t.default)==null?void 0:g.call(t),f&&u("img",{class:We("image"),src:d},null)]}})}}});const U=F(Rn),[Vn,ae]=R("loading"),Mn=Array(12).fill(null).map((e,t)=>u("i",{class:ae("line",String(t+1))},null)),Fn=u("svg",{class:ae("circular"),viewBox:"25 25 50 50"},[u("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),Nn={size:k,type:C("circular"),color:String,vertical:Boolean,textSize:k,textColor:String};var pn=_({name:Vn,props:Nn,setup(e,{slots:t}){const n=D(()=>z({color:e.color},an(e.size))),o=()=>{const l=e.type==="spinner"?Mn:Fn;return u("span",{class:ae("spinner",e.type),style:n.value},[t.icon?t.icon():l])},a=()=>{var l;if(t.default)return u("span",{class:ae("text"),style:{fontSize:$(e.textSize),color:(l=e.textColor)!=null?l:e.color}},[t.default()])};return()=>{const{type:l,vertical:d}=e;return u("div",{class:ae([l,{vertical:d}]),"aria-live":"polite","aria-busy":!0},[o(),a()])}}});const vt=F(pn),[jn,K]=R("button"),Yn=z({},ut,{tag:C("button"),text:String,icon:String,type:C("default"),size:C("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:C("button"),loadingSize:k,loadingText:String,loadingType:String,iconPosition:C("left")});var Wn=_({name:jn,props:Yn,emits:["click"],setup(e,{emit:t,slots:n}){const o=dt(),a=()=>n.loading?n.loading():u(vt,{size:e.loadingSize,type:e.loadingType,class:K("loading")},null),l=()=>{if(e.loading)return a();if(n.icon)return u("div",{class:K("icon")},[n.icon()]);if(e.icon)return u(U,{name:e.icon,class:K("icon"),classPrefix:e.iconPrefix},null)},d=()=>{let s;if(e.loading?s=e.loadingText:s=n.default?n.default():e.text,s)return u("span",{class:K("text")},[s])},c=()=>{const{color:s,plain:f}=e;if(s){const g={color:f?s:"white"};return f||(g.background=s),s.includes("gradient")?g.border=0:g.borderColor=s,g}},r=s=>{e.loading?le(s):e.disabled||(t("click",s),o())};return()=>{const{tag:s,type:f,size:g,block:m,round:x,plain:E,square:y,loading:I,disabled:T,hairline:H,nativeType:Y,iconPosition:q}=e,b=[K([f,g,{plain:E,block:m,round:x,square:y,loading:I,disabled:T,hairline:H}]),{[yn]:H}];return u(s,{type:Y,class:b,style:c(),disabled:T,onClick:r},{default:()=>[u("div",{class:K("content")},[q==="left"&&l(),d(),q==="right"&&l()])]})}}});const po=F(Wn),Un={show:Boolean,zIndex:k,overlay:j,duration:k,teleport:[String,Object],lockScroll:j,lazyRender:j,beforeClose:Function,overlayStyle:Object,overlayClass:W,transitionAppear:Boolean,closeOnClickOverlay:j};function qn(e,t){return e>t?"horizontal":t>e?"vertical":""}function Hn(){const e=S(0),t=S(0),n=S(0),o=S(0),a=S(0),l=S(0),d=S(""),c=()=>d.value==="vertical",r=()=>d.value==="horizontal",s=()=>{n.value=0,o.value=0,a.value=0,l.value=0,d.value=""};return{move:m=>{const x=m.touches[0];n.value=(x.clientX<0?0:x.clientX)-e.value,o.value=x.clientY-t.value,a.value=Math.abs(n.value),l.value=Math.abs(o.value);const E=10;(!d.value||a.value<E&&l.value<E)&&(d.value=qn(a.value,l.value))},start:m=>{s(),e.value=m.touches[0].clientX,t.value=m.touches[0].clientY},reset:s,startX:e,startY:t,deltaX:n,deltaY:o,offsetX:a,offsetY:l,direction:d,isVertical:c,isHorizontal:r}}let ne=0;const Ue="van-overflow-hidden";function Kn(e,t){const n=Hn(),o="01",a="10",l=f=>{n.move(f);const g=n.deltaY.value>0?a:o,m=en(f.target,e.value),{scrollHeight:x,offsetHeight:E,scrollTop:y}=m;let I="11";y===0?I=E>=x?"00":"01":y+E>=x&&(I="10"),I!=="11"&&n.isVertical()&&!(parseInt(I,2)&parseInt(g,2))&&le(f,!0)},d=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",l,{passive:!1}),ne||document.body.classList.add(Ue),ne++},c=()=>{ne&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",l),ne--,ne||document.body.classList.remove(Ue))},r=()=>t()&&d(),s=()=>t()&&c();ot(r),re(s),Ie(s),M(t,f=>{f?d():c()})}function ht(e){const t=S(!1);return M(e,n=>{n&&(t.value=n)},{immediate:!0}),n=>()=>t.value?n():null}const[Gn,Xn]=R("overlay"),Zn={show:Boolean,zIndex:k,duration:k,className:W,lockScroll:j,lazyRender:j,customStyle:Object};var Jn=_({name:Gn,props:Zn,setup(e,{slots:t}){const n=S(),o=ht(()=>e.show||!e.lazyRender),a=d=>{e.lockScroll&&le(d,!0)},l=o(()=>{var d;const c=z(ln(e.zIndex),e.customStyle);return O(e.duration)&&(c.animationDuration=`${e.duration}s`),Je(u("div",{ref:n,style:c,class:[Xn(),e.className]},[(d=t.default)==null?void 0:d.call(t)]),[[Qe,e.show]])});return Oe("touchmove",a,{target:n}),()=>u(Ze,{name:"van-fade",appear:!0},{default:l})}});const Qn=F(Jn),eo=z({},Un,{round:Boolean,position:C("center"),closeIcon:C("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:C("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[to,qe]=R("popup");var no=_({name:to,inheritAttrs:!1,props:eo,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:t,attrs:n,slots:o}){let a,l;const d=S(),c=S(),r=ht(()=>e.show||!e.lazyRender),s=D(()=>{const b={zIndex:d.value};if(O(e.duration)){const V=e.position==="center"?"animationDuration":"transitionDuration";b[V]=`${e.duration}s`}return b}),f=()=>{a||(a=!0,d.value=e.zIndex!==void 0?+e.zIndex:Tn(),t("open"))},g=()=>{a&&En(e.beforeClose,{done(){a=!1,t("close"),t("update:show",!1)}})},m=b=>{t("clickOverlay",b),e.closeOnClickOverlay&&g()},x=()=>{if(e.overlay)return u(Qn,{show:e.show,class:e.overlayClass,zIndex:d.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0,onClick:m},{default:o["overlay-content"]})},E=b=>{t("clickCloseIcon",b),g()},y=()=>{if(e.closeable)return u(U,{role:"button",tabindex:0,name:e.closeIcon,class:[qe("close-icon",e.closeIconPosition),Cn],classPrefix:e.iconPrefix,onClick:E},null)},I=()=>t("opened"),T=()=>t("closed"),H=b=>t("keydown",b),Y=r(()=>{var b;const{round:V,position:N,safeAreaInsetTop:te,safeAreaInsetBottom:he}=e;return Je(u("div",Q({ref:c,style:s.value,role:"dialog",tabindex:0,class:[qe({round:V,[N]:N}),{"van-safe-area-top":te,"van-safe-area-bottom":he}],onKeydown:H},n),[(b=o.default)==null?void 0:b.call(o),y()]),[[Qe,e.show]])}),q=()=>{const{position:b,transition:V,transitionAppear:N}=e,te=b==="center"?"van-fade":`van-popup-slide-${b}`;return u(Ze,{name:V||te,appear:N,onAfterEnter:I,onAfterLeave:T},{default:Y})};return M(()=>e.show,b=>{b&&!a&&(f(),n.tabindex===0&&Z(()=>{var V;(V=c.value)==null||V.focus()})),!b&&a&&(a=!1,t("close"))}),Te({popupRef:c}),Kn(c,()=>e.show&&e.lockScroll),Oe("popstate",()=>{e.closeOnPopstate&&(g(),l=!1)}),ge(()=>{e.show&&f()}),me(()=>{l&&(t("update:show",!0),l=!1)}),re(()=>{e.show&&e.teleport&&(g(),l=!0)}),ve(wn,()=>e.show),()=>e.teleport?u(Rt,{to:e.teleport},{default:()=>[x(),q()]}):u(et,null,[x(),q()])}});const oo=F(no);let ao=0;function io(){const e=J(),{name:t="unknown"}=(e==null?void 0:e.type)||{};return`${t}-${++ao}`}const[lo,G]=R("cell"),yt={tag:C("div"),icon:String,size:String,title:k,value:k,label:k,center:Boolean,isLink:Boolean,border:j,required:Boolean,iconPrefix:String,valueClass:W,labelClass:W,titleClass:W,titleStyle:null,arrowDirection:String,clickable:{type:Boolean,default:null}},ro=z({},yt,ut);var so=_({name:lo,props:ro,setup(e,{slots:t}){const n=dt(),o=()=>{if(t.label||O(e.label))return u("div",{class:[G("label"),e.labelClass]},[t.label?t.label():e.label])},a=()=>{var r;if(t.title||O(e.title)){const s=(r=t.title)==null?void 0:r.call(t);return Array.isArray(s)&&s.length===0?void 0:u("div",{class:[G("title"),e.titleClass],style:e.titleStyle},[s||u("span",null,[e.title]),o()])}},l=()=>{const r=t.value||t.default;if(r||O(e.value))return u("div",{class:[G("value"),e.valueClass]},[r?r():u("span",null,[e.value])])},d=()=>{if(t.icon)return t.icon();if(e.icon)return u(U,{name:e.icon,class:G("left-icon"),classPrefix:e.iconPrefix},null)},c=()=>{if(t["right-icon"])return t["right-icon"]();if(e.isLink){const r=e.arrowDirection&&e.arrowDirection!=="right"?`arrow-${e.arrowDirection}`:"arrow";return u(U,{name:r,class:G("right-icon")},null)}};return()=>{var r;const{tag:s,size:f,center:g,border:m,isLink:x,required:E}=e,y=(r=e.clickable)!=null?r:x,I={center:g,required:E,clickable:y,borderless:!m};return f&&(I[f]=!!f),u(s,{class:G(I),role:y?"button":void 0,tabindex:y?0:void 0,onClick:n},{default:()=>{var T;return[d(),a(),l(),c(),(T=t.extra)==null?void 0:T.call(t)]}})}}});const co=F(so);function bt(e){return Array.isArray(e)?!e.length:e===0?!1:!e}function uo(e,t){if(bt(e)){if(t.required)return!1;if(t.validateEmpty===!1)return!0}return!(t.pattern&&!t.pattern.test(String(e)))}function fo(e,t){return new Promise(n=>{const o=t.validator(e,t);if(tt(o)){o.then(n);return}n(o)})}function He(e,t){const{message:n}=t;return fe(n)?n(e,t):n||""}function go({target:e}){e.composing=!0}function Ke({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function mo(e,t){const n=it();e.style.height="auto";let o=e.scrollHeight;if(se(t)){const{maxHeight:a,minHeight:l}=t;a!==void 0&&(o=Math.min(o,a)),l!==void 0&&(o=Math.max(o,l))}o&&(e.style.height=`${o}px`,lt(n))}function vo(e){return e==="number"?{type:"text",inputmode:"decimal"}:e==="digit"?{type:"tel",inputmode:"numeric"}:{type:e}}function p(e){return[...e].length}function be(e,t){return[...e].slice(0,t).join("")}const[ho,A]=R("field"),yo={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:k,formatter:Function,clearIcon:C("clear"),modelValue:Yt(""),inputAlign:String,placeholder:String,autocomplete:String,errorMessage:String,enterkeyhint:String,clearTrigger:C("focus"),formatTrigger:C("onChange"),error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null}},bo=z({},yt,yo,{rows:k,type:C("text"),rules:Array,autosize:[Boolean,Object],labelWidth:k,labelClass:W,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var Co=_({name:ho,props:bo,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:t,slots:n}){const o=io(),a=ie({status:"unvalidated",focused:!1,validateMessage:""}),l=S(),d=S(),c=S(),{parent:r}=Ut(xn),s=()=>{var i;return String((i=e.modelValue)!=null?i:"")},f=i=>{if(O(e[i]))return e[i];if(r&&O(r.props[i]))return r.props[i]},g=D(()=>{const i=f("readonly");if(e.clearable&&!i){const h=s()!=="",v=e.clearTrigger==="always"||e.clearTrigger==="focus"&&a.focused;return h&&v}return!1}),m=D(()=>c.value&&n.input?c.value():e.modelValue),x=i=>i.reduce((h,v)=>h.then(()=>{if(a.status==="failed")return;let{value:w}=m;if(v.formatter&&(w=v.formatter(w,v)),!uo(w,v)){a.status="failed",a.validateMessage=He(w,v);return}if(v.validator)return bt(w)&&v.validateEmpty===!1?void 0:fo(w,v).then(B=>{B&&typeof B=="string"?(a.status="failed",a.validateMessage=B):B===!1&&(a.status="failed",a.validateMessage=He(w,v))})}),Promise.resolve()),E=()=>{a.status="unvalidated",a.validateMessage=""},y=()=>t("endValidate",{status:a.status,message:a.validateMessage}),I=(i=e.rules)=>new Promise(h=>{E(),i?(t("startValidate"),x(i).then(()=>{a.status==="failed"?(h({name:e.name,message:a.validateMessage}),y()):(a.status="passed",h(),y())})):h()}),T=i=>{if(r&&e.rules){const{validateTrigger:h}=r.props,v=ze(h).includes(i),w=e.rules.filter(B=>B.trigger?ze(B.trigger).includes(i):v);w.length&&I(w)}},H=i=>{var h;const{maxlength:v}=e;if(O(v)&&p(i)>+v){const w=s();if(w&&p(w)===+v)return w;const B=(h=l.value)==null?void 0:h.selectionEnd;if(a.focused&&B){const P=[...i],L=P.length-+v;return P.splice(B-L,L),P.join("")}return be(i,+v)}return i},Y=(i,h="onChange")=>{const v=i;i=H(i);const w=p(v)-p(i);if(e.type==="number"||e.type==="digit"){const P=e.type==="number";i=cn(i,P,P)}let B=0;if(e.formatter&&h===e.formatTrigger){const{formatter:P,maxlength:L}=e;if(i=P(i),O(L)&&p(i)>+L&&(i=be(i,+L)),l.value&&a.focused){const{selectionEnd:ce}=l.value,De=be(v,ce);B=p(P(De))-p(De)}}if(l.value&&l.value.value!==i)if(a.focused){let{selectionStart:P,selectionEnd:L}=l.value;if(l.value.value=i,O(P)&&O(L)){const ce=p(i);w?(P-=w,L-=w):B&&(P+=B,L+=B),l.value.setSelectionRange(Math.min(P,ce),Math.min(L,ce))}}else l.value.value=i;i!==e.modelValue&&t("update:modelValue",i)},q=i=>{i.target.composing||Y(i.target.value)},b=()=>{var i;return(i=l.value)==null?void 0:i.blur()},V=()=>{var i;return(i=l.value)==null?void 0:i.focus()},N=()=>{const i=l.value;e.type==="textarea"&&e.autosize&&i&&mo(i,e.autosize)},te=i=>{a.focused=!0,t("focus",i),Z(N),f("readonly")&&b()},he=i=>{a.focused=!1,Y(s(),"onBlur"),t("blur",i),!f("readonly")&&(T("onBlur"),Z(N),nn())},Pe=i=>t("clickInput",i),xt=i=>t("clickLeftIcon",i),Et=i=>t("clickRightIcon",i),wt=i=>{le(i),t("update:modelValue",""),t("clear",i)},$e=D(()=>{if(typeof e.error=="boolean")return e.error;if(r&&r.props.showError&&a.status==="failed")return!0}),St=D(()=>{const i=f("labelWidth"),h=f("labelAlign");if(i&&h!=="top")return{width:$(i)}}),kt=i=>{i.keyCode===13&&(!(r&&r.props.submitOnEnter)&&e.type!=="textarea"&&le(i),e.type==="search"&&b()),t("keypress",i)},Ae=()=>e.id||`${o}-input`,It=()=>a.status,Bt=()=>{const i=A("control",[f("inputAlign"),{error:$e.value,custom:!!n.input,"min-height":e.type==="textarea"&&!e.autosize}]);if(n.input)return u("div",{class:i,onClick:Pe},[n.input()]);const h={id:Ae(),ref:l,name:e.name,rows:e.rows!==void 0?+e.rows:void 0,class:i,disabled:f("disabled"),readonly:f("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,enterkeyhint:e.enterkeyhint,"aria-labelledby":e.label?`${o}-label`:void 0,onBlur:he,onFocus:te,onInput:q,onClick:Pe,onChange:Ke,onKeypress:kt,onCompositionend:Ke,onCompositionstart:go};return e.type==="textarea"?u("textarea",h,null):u("input",Q(vo(e.type),h),null)},Ot=()=>{const i=n["left-icon"];if(e.leftIcon||i)return u("div",{class:A("left-icon"),onClick:xt},[i?i():u(U,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},Tt=()=>{const i=n["right-icon"];if(e.rightIcon||i)return u("div",{class:A("right-icon"),onClick:Et},[i?i():u(U,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},Pt=()=>{if(e.showWordLimit&&e.maxlength){const i=p(s());return u("div",{class:A("word-limit")},[u("span",{class:A("word-num")},[i]),Vt("/"),e.maxlength])}},$t=()=>{if(r&&r.props.showErrorMessage===!1)return;const i=e.errorMessage||a.validateMessage;if(i){const h=n["error-message"],v=f("errorMessageAlign");return u("div",{class:A("error-message",v)},[h?h({message:i}):i])}},At=()=>{const i=f("labelWidth"),h=f("labelAlign"),v=f("colon")?":":"";if(n.label)return[n.label(),v];if(e.label)return u("label",{id:`${o}-label`,for:Ae(),style:h==="top"&&i?{width:$(i)}:void 0},[e.label+v])},Dt=()=>[u("div",{class:A("body")},[Bt(),g.value&&u(U,{ref:d,name:e.clearIcon,class:A("clear")},null),Tt(),n.button&&u("div",{class:A("button")},[n.button()])]),Pt(),$t()];return Te({blur:b,focus:V,validate:I,formValue:m,resetValidation:E,getValidationStatus:It}),ve(at,{customValue:c,resetValidation:E,validateWithTrigger:T}),M(()=>e.modelValue,()=>{Y(s()),E(),T("onChange"),Z(N)}),ge(()=>{Y(s(),e.formatTrigger),Z(N)}),Oe("touchstart",wt,{target:D(()=>{var i;return(i=d.value)==null?void 0:i.$el})}),()=>{const i=f("disabled"),h=f("labelAlign"),v=Ot(),w=()=>{const B=At();return h==="top"?[v,B].filter(Boolean):B||[]};return u(co,{size:e.size,class:A({error:$e.value,disabled:i,[`label-${h}`]:h}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:St.value,valueClass:A("value"),titleClass:[A("label",[h,{required:e.required}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:v&&h!=="top"?()=>v:null,title:w,value:Dt,extra:n.extra})}}});const jo=F(Co);let oe=0;function xo(e){e?(oe||document.body.classList.add("van-toast--unclickable"),oe++):oe&&(oe--,oe||document.body.classList.remove("van-toast--unclickable"))}const[Eo,X]=R("toast"),wo=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay"],So={icon:String,show:Boolean,type:C("text"),overlay:Boolean,message:k,iconSize:k,duration:jt(2e3),position:C("middle"),teleport:[String,Object],wordBreak:String,className:W,iconPrefix:String,transition:C("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:W,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean};var Ct=_({name:Eo,props:So,emits:["update:show"],setup(e,{emit:t,slots:n}){let o,a=!1;const l=()=>{const g=e.show&&e.forbidClick;a!==g&&(a=g,xo(a))},d=g=>t("update:show",g),c=()=>{e.closeOnClick&&d(!1)},r=()=>clearTimeout(o),s=()=>{const{icon:g,type:m,iconSize:x,iconPrefix:E,loadingType:y}=e;if(g||m==="success"||m==="fail")return u(U,{name:g||m,size:x,class:X("icon"),classPrefix:E},null);if(m==="loading")return u(vt,{class:X("loading"),size:x,type:y},null)},f=()=>{const{type:g,message:m}=e;if(n.message)return u("div",{class:X("text")},[n.message()]);if(O(m)&&m!=="")return g==="html"?u("div",{key:0,class:X("text"),innerHTML:String(m)},null):u("div",{class:X("text")},[m])};return M(()=>[e.show,e.forbidClick],l),M(()=>[e.show,e.type,e.message,e.duration],()=>{r(),e.show&&e.duration>0&&(o=setTimeout(()=>{d(!1)},e.duration))}),ge(l),ke(l),()=>u(oo,Q({class:[X([e.position,e.wordBreak==="normal"?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:c,onClosed:r,"onUpdate:show":d},pt(e,wo)),{default:()=>[s(),f()]})}});function ko(){const e=ie({show:!1}),t=a=>{e.show=a},n=a=>{z(e,a,{transitionAppear:!0}),t(!0)},o=()=>t(!1);return Te({open:n,close:o,toggle:t}),{open:n,close:o,state:e,toggle:t}}function Io(e){const t=Mt(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount(){t.unmount(),document.body.removeChild(n)}}}const Bo={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let de=[],Oo=!1,Ge=z({},Bo);const To=new Map;function Po(e){return se(e)?e:{message:e}}function $o(){const{instance:e,unmount:t}=Io({setup(){const n=S(""),{open:o,state:a,close:l,toggle:d}=ko(),c=()=>{},r=()=>u(Ct,Q(a,{onClosed:c,"onUpdate:show":d}),null);return M(n,s=>{a.message=s}),J().render=r,{open:o,close:l,message:n}}});return e}function Ao(){if(!de.length||Oo){const e=$o();de.push(e)}return de[de.length-1]}function Yo(e={}){if(!Be)return{};const t=Ao(),n=Po(e);return t.open(z({},Ge,To.get(n.type||Ge.type),n)),t}const Wo=F(Ct),[Do,Xe]=R("cell-group"),Lo={title:String,inset:Boolean,border:j};var _o=_({name:Do,inheritAttrs:!1,props:Lo,setup(e,{slots:t,attrs:n}){const o=()=>{var l;return u("div",Q({class:[Xe({inset:e.inset}),{[bn]:e.border&&!e.inset}]},n),[(l=t.default)==null?void 0:l.call(t)])},a=()=>u("div",{class:Xe("title",{inset:e.inset})},[t.title?t.title():e.title]);return()=>e.title||t.title?u(et,null,[a(),o()]):o()}});const Uo=F(_o);export{po as B,Uo as C,jo as F,U as I,Wo as T,Fo as a,W as b,R as c,Ro as d,z as e,$ as f,Ut as g,No as h,Yt as i,Mo as j,Te as k,C as m,k as n,pt as p,Yo as s,j as t,Vo as u,F as w};

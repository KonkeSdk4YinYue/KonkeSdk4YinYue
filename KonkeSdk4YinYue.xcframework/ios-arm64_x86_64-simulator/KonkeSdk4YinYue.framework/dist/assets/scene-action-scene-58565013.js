import{_ as w,o as a,c as l,f as s,F as p,r as f,t as v,a as i,w as d,b as P,p as x,e as T,h as b,v as A,i as y,g as V}from"./_plugin-vue_export-helper-4adca727.js";import"./index-f4bb52ea.js";/* empty css              */import{T as O,a as j}from"./index-3866edd4.js";import{_ as D}from"./nav-bar-94bf83b0.js";import{C as M,a as R}from"./index-72aa8aef.js";import{C as E}from"./index-12218a2e.js";import{C as U}from"./index-f891a278.js";import"./index-c18c9d52.js";/* empty css              */import{T as B}from"./index-d761a1b1.js";import{a as F}from"./function-call-38737c8a.js";import{s as L}from"./api-e2d057b7.js";import{g as G}from"./urlparse-f25d0f77.js";import{_ as I}from"./ic_scene1-0f866639.js";import{P as Y}from"./index-d76ffcb6.js";import"./use-id-f8db432d.js";import"./use-expose-f66499b2.js";import"./use-route-710f3c49.js";import"./use-touch-330ddaa2.js";import"./index-08ecd083.js";const K={name:"SceneActionAutoScene",props:{scene:{}},data(){return{list:[{name:"打开",action:"TurnOnScene"},{name:"关闭",action:"TurnOffScene"}]}},mounted(){},methods:{onClickLeft(){this.$emit("onCancal","")},onClickRight(e){console.log("checked",this.checked),this.$emit("onConfirm",this.scene,e)}}},q={class:"demo-component"},z={class:"btn_list"};function H(e,t,r,_,n,c){return a(),l("div",q,[s("div",z,[(a(!0),l(p,null,f(n.list,m=>(a(),l("div",{class:"btn_item",onClick:t[0]||(t[0]=(...u)=>c.onClickRight&&c.onClickRight(...u))},v(m.name),1))),256))]),s("div",{class:"btn_cancel",onClick:t[1]||(t[1]=(...m)=>c.onClickLeft&&c.onClickLeft(...m))}," 取消 ")])}const J=w(K,[["render",H],["__scopeId","data-v-8a21e102"]]);const Q={name:"SceneActionLight",props:{scene:{}},data(){return{columnsType:["minute","second"],currentTime:["00","00"],formatter:(_,n)=>(_==="hour"?n.text+="时":_==="minute"?n.text+="分":n.text+="秒",n),seldata:"00:00",checked:["ExecuteScene"],list:[{name:"打开",action:"ExecuteScene"}],deley:0}},mounted(){},methods:{onClickLeft(){this.$emit("onCancal","")},onClickRight(){if(console.log("checked",this.checked),this.checked.length==0){F("必须选择一个动作");return}this.$emit("onConfirm",this.scene,this.checked[0],this.deley)},toggle(e,t){this.checked.splice(0,this.checked.length),this.checked.push(t),console.log(this.checked)},onTimeChange(e){this.seldata=e.selectedValues[0]+":"+e.selectedValues[1],this.deley=e.selectedValues[0]*60+e.selectedValues[1]}}},W=e=>(x("data-v-420efa06"),e=e(),T(),e),X={class:"demo-component"},Z={class:"time_sel_bg"},$={class:"time_show_line"},ee=W(()=>s("span",{class:"time_show_line_hint"}," 延迟时间 ",-1)),ne={class:"time_show_line_time"},te={class:"time_sel"},oe={class:"time_sel_child"},se={class:"action_list"};function ce(e,t,r,_,n,c){const m=D,u=B,C=M,g=U,h=E,k=R;return a(),l("div",X,[i(m,{class:"nav_bar",title:"选择动作","left-text":"取消","right-text":"确定",onClickRight:c.onClickRight,fixed:!1,onClickLeft:c.onClickLeft},null,8,["onClickRight","onClickLeft"]),s("div",Z,[s("div",$,[ee,s("span",ne,v(n.seldata),1)]),s("div",te,[s("div",oe,[i(u,{"option-height":35,"visible-option-num":3,"show-toolbar":!1,modelValue:n.currentTime,"onUpdate:modelValue":t[0]||(t[0]=o=>n.currentTime=o),formatter:n.formatter,title:"选择时间","columns-type":n.columnsType,onChange:c.onTimeChange},null,8,["modelValue","formatter","columns-type","onChange"])])])]),s("div",se,[i(k,{modelValue:n.checked,"onUpdate:modelValue":t[1]||(t[1]=o=>n.checked=o)},{default:d(()=>[i(h,{inset:""},{default:d(()=>[(a(!0),l(p,null,f(n.list,(o,S)=>(a(),P(g,{clickable:"",key:o,title:o.name,onClick:ke=>c.toggle(S,o.action)},{"right-icon":d(()=>[i(C,{name:o.action},null,8,["name"])]),_:2},1032,["title","onClick"]))),128))]),_:1})]),_:1},8,["modelValue"])])])}const ie=w(Q,[["render",ce],["__scopeId","data-v-420efa06"]]);const ae={name:"KonkeSdk4YinYueSrcApp",components:{SceneActionScene:ie,SceneActionAutoScene:J},data(){return{active:0,sceneManualList:[],sceneAutoList:[],scene_auto_show:!1,scene_show:!1,scene:{},auto_scene:{},type:""}},mounted(){this.getManualList(),this.getAutoList(),this.getParams()},methods:{onClickLeft(){window.__jsb.pop()},getParams(){let e=window.location.search;const t=G(e);t!=null&&"type"in t&&(this.type=t.type)},selManualScene(e){this.scene_show=!0,this.scene=e},selAutoScene(e){this.scene_auto_show=!0,this.auto_scene=e},getManualList(){L(!0).then(e=>{this.sceneManualList=e.data.sceneList}).catch(e=>console.log(e))},getAutoList(){L(!1).then(e=>{this.sceneManualList=e.data.sceneList}).catch(e=>console.log(e))},onAutoSceneSelConfirm(e,t){this.scene_auto_show=!1;let r={sceneId:e.sceneId+"",sceneName:e.sceneName};const _={actionType:"Scene",delayTime:0,inner:!1,userDeviceId:null,actionName:t,extension:r};window.__jsb.forwardEvent({eventName:"addDevAction",eventData:_,fromPage:"scene-action-scene",toPage:"scene-manual"}),window.__jsb.pop({route:"scene-manual"})},onAutoSceneSelCancel(){this.scene_auto_show=!1},onSceneSelConfirm(e,t,r){this.scene_auto_show=!1;let _={sceneId:e.sceneId+"",sceneName:e.sceneName};const n={actionType:"Scene",delayTime:r,inner:!1,userDeviceId:null,actionName:t,extension:_};window.__jsb.forwardEvent({eventName:"pop",eventData:"",fromPage:"scene-action-scene",toPage:"scene-action-type"}),window.__jsb.forwardEvent({eventName:"addDevAction",eventData:n,fromPage:"scene-action-scene",toPage:"scene-manual"}),window.__jsb.pop(),this.scene_show=!1},onSceneSelCancel(){this.scene_show=!1}}},N=e=>(x("data-v-772a7bfe"),e=e(),T(),e),le={class:"home"},_e={class:"tab_line"},re={class:"scene_list"},me=["onClick"],ue=N(()=>s("div",{class:"scene_img"},[s("img",{src:I})],-1)),de={class:"scene_name"},he={class:"scene_list"},pe=["onClick"],fe=N(()=>s("div",{class:"scene_img"},[s("img",{src:I})],-1)),ve={class:"scene_name"};function Ce(e,t,r,_,n,c){const m=D,u=j,C=O,g=y("SceneActionScene"),h=Y,k=y("SceneActionAutoScene");return a(),l("div",le,[i(m,{class:"nav_bar",title:"选择场景",onClickLeft:c.onClickLeft},null,8,["onClickLeft"]),s("div",_e,[i(C,{active:n.active,"onUpdate:active":t[0]||(t[0]=o=>n.active=o),color:"#FD7D28","title-active-color":"#FD7D28","title-inactive-color":"#666666",sticky:"",animated:"",shrink:""},{default:d(()=>[i(u,{title:"手动场景",name:"0"}),i(u,{title:"自动场景",name:"1"})]),_:1},8,["active"])]),(a(!0),l(p,null,f(n.sceneManualList,o=>b((a(),l("div",re,[s("div",{class:"scene_item",onClick:S=>c.selManualScene(o)},[ue,s("div",null,[s("span",de,v(o.sceneName),1)])],8,me)],512)),[[A,n.active==0]])),256)),(a(!0),l(p,null,f(n.sceneAutoList,o=>b((a(),l("div",he,[s("div",{class:"scene_item",onClick:S=>c.selAutoScene(o)},[fe,s("div",null,[s("span",ve,v(o.sceneName),1)])],8,pe)],512)),[[A,n.active==1]])),256)),i(h,{show:n.scene_show,"onUpdate:show":t[1]||(t[1]=o=>n.scene_show=o),position:"bottom"},{default:d(()=>[i(g,{scene:n.scene,onOnCancal:c.onSceneSelCancel,onOnConfirm:c.onSceneSelConfirm},null,8,["scene","onOnCancal","onOnConfirm"])]),_:1},8,["show"]),i(h,{show:n.scene_auto_show,"onUpdate:show":t[2]||(t[2]=o=>n.scene_auto_show=o),position:"bottom",round:"",overlay:""},{default:d(()=>[i(k,{scene:n.auto_scene,onOnCancal:c.onAutoSceneSelCancel,onOnConfirm:c.onAutoSceneSelConfirm},null,8,["scene","onOnCancal","onOnConfirm"])]),_:1},8,["show"])])}const ge=w(ae,[["render",Ce],["__scopeId","data-v-772a7bfe"]]);V(ge).mount("#root");

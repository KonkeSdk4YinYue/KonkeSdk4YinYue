import{_ as k,c as b,a as n,d as s,b as l,j as p,e as c,o as r,f as v,i as N}from"./_plugin-vue_export-helper-ae94e834.js";/* empty css              */import{L as A}from"./index-5198b2b7.js";import{F as S}from"./index-f273d662.js";import{_ as V}from"./navbar-dd7c7647.js";import{B as w}from"./index-46966e79.js";import{_ as x}from"./safe-area-top-6391331c.js";import{A as P}from"./album_delete-3f68ba0c.js";import{_ as B}from"./img-upload-096958ec.js";import{A as _}from"./api-3777ac7b.js";import{a as C}from"./function-call-d8608672.js";import{O as I}from"./index-6f826b23.js";import"./use-route-fa444ad9.js";import"./use-id-b8b960f0.js";import"./use-expose-833097fe.js";import"./constant-eb256a74.js";import"./index-9cad779b.js";/* empty css              */import"./index-015663ed.js";import"./use-touch-b8f7fc8d.js";import"./on-popup-reopen-34d1e964.js";import"./index-ccf833f0.js";import"./index-c49f2c8f.js";import"./interceptor-c174082f.js";import"./index-52885be2.js";const j={name:"PersonalAlbum",components:{ImgUpload:B},data(){return{nickname:"",personalitySign:"",loading:!1,type:"",AlbumDelete:P,photoAlbum:[]}},computed:{},created(){this.getPageParams()},methods:{async getPageParams(){try{const{nickName:t,type:o="nickName",personalitySign:a}=await __jsb.getPageParams();this.nickname=t,this.personalitySign=a,this.type=o,console.log(t),console.log("nickName")}catch(t){console.log(t)}},async handleSubmit(){this.loading=!0;const t=this.type==="nickName"?_.updateNickName:_.updatePersonalitySign,o=this.type==="nickName"?{nickname:this.nickname}:{content:this.personalitySign};try{await t({...o}),__jsb.pop()}catch(a){C(a.errMsg||"修改失败")}finally{this.loading=!1}}}},U={class:"edit-nickname"},F={class:"container"},L={class:"loading-container"};function O(t,o,a,z,e,d){const u=x,g=w,y=V,m=S,f=A,h=I;return r(),b("div",U,[n(u),n(y,{title:e.type==="nickName"?"昵称":"交友心声"},{default:s(()=>[n(g,{disabled:!e.nickname,type:"primary",size:"small",round:"",class:"submit",onClick:d.handleSubmit},{default:s(()=>[v("完成")]),_:1},8,["disabled","onClick"])]),_:1},8,["title"]),l("div",F,[e.type==="text"?(r(),p(m,{key:0,modelValue:e.nickname,"onUpdate:modelValue":o[0]||(o[0]=i=>e.nickname=i),maxlength:"50",clearable:"",class:"nickname"},null,8,["modelValue"])):c("",!0),e.type==="personalitySign"?(r(),p(m,{key:1,type:"textarea",modelValue:e.personalitySign,"onUpdate:modelValue":o[1]||(o[1]=i=>e.personalitySign=i),maxlength:"100","show-word-limit":"",rows:"7",class:"personality-sign"},null,8,["modelValue"])):c("",!0)]),n(h,{show:e.loading},{default:s(()=>[l("div",L,[n(f)])]),_:1},8,["show"])])}const T=k(j,[["render",O],["__scopeId","data-v-6411a852"]]);N(T).mount("#root");

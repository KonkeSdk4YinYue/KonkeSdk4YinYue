import{_ as g,c as a,a as i,F as w,r as f,w as h,o as t,b as _,u as k,d as v,g as H}from"./_plugin-vue_export-helper-4adca727.js";import{I as C}from"./index-f4bb52ea.js";/* empty css              */import{B as y}from"./index-570c99a3.js";import{C as D}from"./index-f891a278.js";import{_ as b}from"./nav-bar-94bf83b0.js";import{t as A}from"./api-61c15ffa.js";import"./use-route-710f3c49.js";import"./index-08ecd083.js";const x={name:"KonkeSdk4YinYueSrcApp",data(){return{homes:[],currentHome:{}}},mounted(){this.getHomes(),window.__eventBus.on("viewDidAppear",()=>{this.getHomes()})},methods:{toDetail(){window.__jsb.push({route:"home-manage-detail",params:{homeId:this.currentHome.homeId}})},changeHome(e){this.currentHome=e,window.__homeId=e.homeId,window.__jsb.setUserDefaults({key:"homeId",value:e.homeId}),localStorage.setItem("homeId",e.homeId)},async getHomes(){try{const{data:e}=await A();if(this.homes=(e==null?void 0:e.homeList)||[],this.homes.length>0){const r=this.homes.map(o=>o.homeId+""),n=localStorage.getItem("homeId")||"";r.includes(n)?window.__homeId=n:(window.__homeId=this.homes[0].homeId,localStorage.setItem("homeId",this.homes[0].homeId)),this.currentHome=this.homes.find(o=>o.homeId==window.__homeId)}else this.currentHome={}}catch(e){console.log(e)}},onAddNew(){window.__jsb.push({route:"home-create"})}}},B={class:"home-manage"};function F(e,r,n,o,c,s){const d=b,l=C,p=D,u=y;return t(),a("div",B,[i(d,{title:"家庭管理","right-text":"新建",onClickRight:s.onAddNew},null,8,["onClickRight"]),(t(!0),a(w,null,f(c.homes,(m,I)=>(t(),_(p,{key:I,title:m.homeName,size:"large",onClick:S=>s.changeHome(m)},{"right-icon":h(()=>[c.currentHome.homeId==m.homeId?(t(),_(l,{key:0,name:"success",color:"#FD7D28"})):k("",!0)]),_:2},1032,["title","onClick"]))),128)),i(u,{type:"primary",color:"#FD7D28FF",class:"manage-button",onClick:s.toDetail},{default:h(()=>[v("家庭管理")]),_:1},8,["onClick"])])}const N=g(x,[["render",F],["__scopeId","data-v-9fe07575"]]);H(N).mount("#root");

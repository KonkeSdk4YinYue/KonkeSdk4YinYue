import{_ as v,c,b as d,a as t,t as f,w as h,o as r,F as g,r as I,d as D,p as y,e as O,h as L}from"./_plugin-vue_export-helper-c6b04c4a.js";import"./index-31b7c571.js";import{G as b,a as w}from"./index-8a0a3b7d.js";import{_ as T}from"./nav-bar-721d5a93.js";import{g as N,c as l}from"./api-94f50879.js";import{g as k}from"./dev-image-f6fc399c.js";import{s as i}from"./function-call-8de52e48.js";import"./use-route-3612c525.js";import"./use-touch-c5100371.js";import"./index-03f6bb18.js";import"./index-22da9197.js";const x=""+new URL("ic_network_zigbee-f14eba9d.svg",import.meta.url).href;const B={name:"KonkeSdk4YinYueSrcApp",data(){return{network_text:"组网中...",deviceList:[{userDeviceId:295014,deviceName:"设备 54",state:!0,master:!1,parentUserDeviceId:294995,isVisible:!0,gwId:294995,sort:25,sortRoom:0,device:{classId:8,cateType:"Light",isHost:!1,isGateway:!1,deviceType:{cateId:56,typeId:383,typeName:"肖邦系列",icon:"/upload/cdn/images/20210121/16112152983631.png",sort:182016,isVisible:!0,innerType:"light_control_panel",productId:"3022",isGateway:!1,isHost:!1,isVirtual:!1,virtualQuantity:0,isInfrared:!1,netType:"ZigBee",stateDurationTime:60,isSmartK:!1,isBattery:!1,actionList:["TurnOnOff","TurnOn","TurnOff"],extension:{ui_BoxActionType:"turnOnOff"},cateType:"Light",iconList:[{iconId:52,icon:"ic_com_lib_dev_light_light_nor_m",deviceName:"单路灯控",default:!0}],iconList2:[{iconId:124,icon:"ic_com_lib_dev_light_light",weight:0,path:"/upload/icon2/"}]},deviceId:5324,deviceMac:"90:35:EA:FF:FE:6B:87:83"},childDevice:[],childCount:0,homeId:1857,areaId:9522,roomId:43731,homeName:"LOCAL_LANG_INIT_HOME",roomName:"默认2131",areaName:"默认",cache:{cacheKey:"da3bb273987d7eff",isOnline:!0,updateTime:1684081082039,extension:{turnOnOff:!0,current:{turnOnOff:!0,updateTime:1684081082039},times:{turnOnOff:1684081082039},isOnline:!0,hardwareVersion:"0.2.9"},currentVersion:"0.2.9"},originProductId:"3022",UDID:"da3bb273987d7eff"},{userDeviceId:295012,deviceName:"设备 54",state:!0,master:!1,parentUserDeviceId:294995,isVisible:!0,gwId:294995,sort:25,sortRoom:0,device:{classId:8,cateType:"Light",isHost:!1,isGateway:!1,deviceType:{cateId:56,typeId:383,typeName:"肖邦系列",icon:"/upload/cdn/images/20210121/16112152983631.png",sort:182016,isVisible:!0,innerType:"light_control_panel",productId:"3022",isGateway:!1,isHost:!1,isVirtual:!1,virtualQuantity:0,isInfrared:!1,netType:"ZigBee",stateDurationTime:60,isSmartK:!1,isBattery:!1,actionList:["TurnOnOff","TurnOn","TurnOff"],extension:{ui_BoxActionType:"turnOnOff"},cateType:"Light",iconList:[{iconId:52,icon:"ic_com_lib_dev_light_light_nor_m",deviceName:"单路灯控",default:!0}],iconList2:[{iconId:124,icon:"ic_com_lib_dev_light_light",weight:0,path:"/upload/icon2/"}]},deviceId:5324,deviceMac:"90:35:EA:FF:FE:6B:87:83"},childDevice:[],childCount:0,homeId:1857,areaId:9522,roomId:43731,homeName:"LOCAL_LANG_INIT_HOME",roomName:"默认2131",areaName:"默认",cache:{cacheKey:"da3bb273987d7eff",isOnline:!0,updateTime:1684081082039,extension:{turnOnOff:!0,current:{turnOnOff:!0,updateTime:1684081082039},times:{turnOnOff:1684081082039},isOnline:!0,hardwareVersion:"0.2.9"},currentVersion:"0.2.9"},originProductId:"3022",UDID:"da3bb273987d7eff"}],getDevImage:k,gatewayUserDeviceId:0,isDiscovering:!1}},mounted(){window.__eventBus.on("Joined",e=>{console.log("_eventBus.on",e),this.deviceList.push(e)}),this.openDevDiscover()},unmounted(){this.isDiscovering&&this.stopDevDiscover()},methods:{onClickLeft(){window.__jsb.pop()},openDevDiscover(){N().then(e=>{if(e.data.userDeviceList==null||e.data.userDeviceList.length==0){i("请用扫一扫添加网关");return}this.gatewayUserDeviceId=e.data.userDeviceList[0].userDeviceId,l(e.data.userDeviceList[0].userDeviceId,"SetDiscoverZigbeeOn",{}).then(o=>{this.isDiscovering=!0}).cache(o=>i(o))}).cache(e=>i(e))},stopDevDiscover(){this.gatewayUserDeviceId=resp.data.userDeviceList[0].userDeviceId,l(resp.data.userDeviceList[0].userDeviceId,"SetDiscoverZigbeeOff",{}).then(e=>{this.isDiscovering=!1}).cache(e=>i(e))}}},s=e=>(y("data-v-011e3cb7"),e=e(),O(),e),A={class:"home"},V=s(()=>t("img",{class:"ic_network",src:x},null,-1)),C={class:"tv_network"},S=s(()=>t("div",{class:"divider"},null,-1)),G=s(()=>t("div",{class:"net_hint"},"已入网设备",-1)),F=s(()=>t("div",{class:"btn_stop"},"停止组网",-1));function U(e,o,H,K,a,u){const _=T,p=w,m=b;return r(),c("div",A,[d(_,{class:"nav_bar",title:"组网",onClickLeft:u.onClickLeft},null,8,["onClickLeft"]),V,t("div",C,f(a.network_text),1),S,G,d(m,{class:"grid",direction:"horizontal",gutter:10,"column-num":2,clickable:"true"},{default:h(()=>[(r(!0),c(g,null,I(a.deviceList,n=>(r(),D(p,{class:"dev_item",key:n.userDeviceId,icon:a.getDevImage(n.device.cateType),text:n.deviceName},null,8,["icon","text"]))),128))]),_:1}),F])}const E=v(B,[["render",U],["__scopeId","data-v-011e3cb7"]]);L(E).mount("#root");

import{_ as p,c as d,b as m,F as u,r as h,g as f,v as I,a as n,o as c,t as g,e as D}from"./_plugin-vue_export-helper-4dcb9733.js";import{_ as L}from"./nav-bar-2d16eeee.js";import{g as w}from"./urlparse-f25d0f77.js";import{f as l}from"./api-a6d3b59a.js";import{_ as N}from"./ic_add_room-ca6db507.js";import{a as _}from"./function-call-fc609343.js";import"./index-911a1983.js";import"./use-touch-3e361956.js";import"./index-bc3726e2.js";import"./index-16a23f12.js";const k={components:{},data(){return{devId:-1,userDevice:{},deviceList:[],devName:""}},mounted(){this.getUrlParams(),this.__eventBus.on("reload",e=>{this.getChildList()})},methods:{getUrlParams(){let e=window.location.search;const s=w(e);s!=null&&"devId"in s&&(this.devId=s.devId,console.log(this.devId),this.getDevInfo(),this.getChildList())},onClickLeft(){window.__jsb.pop()},getDevInfo(){l({userDeviceId:this.devId}).then(e=>{console.log(e),this.userDevice=e.data.userDeviceList[0],this.devName=e.data.userDeviceList[0].deviceName}).catch(e=>_(e))},getChildList(){l({parentUserDeviceId:this.devId}).then(e=>{console.log(e),this.deviceList=e.data.userDeviceList}).catch(e=>_(e))},clickItemDev(e){console.log("type",JSON.parse(e.userExtension).rcType),JSON.parse(e.userExtension).rcType=="AC"?window.__jsb.push({route:"dev-infrared-ac",params:{devId:e.userDeviceId}}):JSON.parse(e.userExtension).rcType=="TV"?window.__jsb.push({route:"dev-infrared-tv",params:{devId:e.userDeviceId}}):JSON.parse(e.userExtension).rcType=="FAN"&&window.__jsb.push({route:"dev-infrared-fan",params:{devId:e.userDeviceId}})},addDevice(){var s,r,a,i;let e=-1;(i=(a=(r=(s=this.userDevice)==null?void 0:s.cache)==null?void 0:r.extension)==null?void 0:a.nodeList)==null||i.forEach(t=>{!("userDeviceId"in t)&&e==-1&&(e=t.nodeId)}),window.__jsb.push({route:"dev-infrared-edit",params:{devId:this.devId,nodeId:e}})}}},C={class:"home"},x={class:"room_list"},b=["onClick"],y={class:"room_name"};function j(e,s,r,a,i,t){const v=L;return c(),d("div",C,[m(v,{class:"nav_bar",title:i.devName,onClickLeft:t.onClickLeft},null,8,["title","onClickLeft"]),(c(!0),d(u,null,h(i.deviceList,o=>(c(),d("div",x,[n("div",{class:"room_item",onClick:S=>t.clickItemDev(o)},[n("span",y,g(o.deviceName),1)],8,b)]))),256)),f(n("img",{class:"add_icon",src:N,alt:"",style:{width:"75px",height:"75px"},onClick:s[0]||(s[0]=(...o)=>t.addDevice&&t.addDevice(...o))},null,512),[[I,i.deviceList.length<6]])])}const E=p(k,[["render",j],["__scopeId","data-v-049c2306"]]);D(E).mount("#root");

import{_ as g,c as k,a,f as s,t as w,o as v,p as b,e as I,g as T}from"./_plugin-vue_export-helper-4adca727.js";import{I as L}from"./index-f4bb52ea.js";import{I as j}from"./index-ec50e05e.js";import{_ as C}from"./nav-bar-188b05ac.js";import{G as u,I as S}from"./api-b5274a4f.js";import{a as p}from"./function-call-8db26e1c.js";import"./use-expose-f66499b2.js";import"./index-28bb2e26.js";import"./use-touch-330ddaa2.js";import"./index-08ecd083.js";const x=""+new URL("ic_edit_name-b877069b.svg",import.meta.url).href;const B={name:"KonkeSdk4YinYueSrcApp",data(){return{userHeader:"",userToken:{}}},mounted(){window.__eventBus.on("reload",o=>{window.__jsb.getLoginUserInfo().then(e=>{var n,i;this.userToken=e.userToken,this.userHeader=u+((i=(n=this.userToken)==null?void 0:n.user)==null?void 0:i.avatar),console.log(this.userToken)}).catch(e=>{p(e)})}),window.__jsb.getLoginUserInfo().then(o=>{var e,n;this.userToken=o.userToken,this.userHeader=u+((n=(e=this.userToken)==null?void 0:e.user)==null?void 0:n.avatar),console.log(this.userToken)}).catch(o=>{p(o)})},methods:{onClickLeft(){window.__jsb.pop()},logout(){S().then(o=>{window.__jsb.setLoginUserInfo(null),window.__jsb.replace({route:"login"})})},toForgetPwd(){window.__jsb.push({route:"forgetpassword"})},toEditName(){window.__jsb.push({route:"user-editnickname"})}}},_=o=>(b("data-v-f7fd2fb2"),o=o(),I(),o),N={class:"home"},U={class:"user"},A={class:"user_header"},E={class:"user_nickname"},H=_(()=>s("div",{class:"divider"},null,-1)),y=_(()=>s("span",{class:"change_pwd_hint"}," 修改密码",-1)),F=_(()=>s("div",{class:"divider"},null,-1));function P(o,e,n,i,c,t){var d,l;const m=C,h=j,f=L;return v(),k("div",N,[a(m,{class:"nav_bar",title:"我的",onClickLeft:t.onClickLeft},null,8,["onClickLeft"]),s("div",U,[s("div",A,[a(h,{width:"70px",height:"70px",src:c.userHeader},null,8,["src"])]),s("div",E,w((l=(d=c.userToken)==null?void 0:d.user)==null?void 0:l.nickname),1),s("img",{class:"user_nickname_edit",src:x,onClick:e[0]||(e[0]=(...r)=>t.toEditName&&t.toEditName(...r))})]),H,s("div",{class:"change_pwd",onClick:e[1]||(e[1]=(...r)=>t.toForgetPwd&&t.toForgetPwd(...r))},[y,a(f,{class:"right",name:"arrow"})]),F,s("div",{class:"login_out",onClick:e[2]||(e[2]=(...r)=>t.logout&&t.logout(...r))},"退出登录")])}const V=g(B,[["render",P],["__scopeId","data-v-f7fd2fb2"]]);T(V).mount("#root");

import{_ as f,c as k,b as a,a as s,t as w,o as v,p as b,g as I,d as T}from"./_plugin-vue_export-helper-051f66a3.js";import{I as L}from"./index-9d551784.js";import{I as j}from"./index-40b3496a.js";import{_ as C}from"./nav-bar-a1dce73c.js";import{H as u,J as S}from"./api-c3130a22.js";import{a as p}from"./function-call-753dd7bf.js";import"./use-expose-1ff20361.js";import"./index-1c58f097.js";import"./use-touch-8855ff1b.js";import"./index-1c77c952.js";const x=""+new URL("ic_edit_name-b877069b.svg",import.meta.url).href;const B={name:"KonkeSdk4YinYueSrcApp",data(){return{userHeader:"",userToken:{}}},mounted(){window.__eventBus.on("reload",o=>{window.__jsb.getLoginUserInfo().then(e=>{var n,i;this.userToken=e.userToken,this.userHeader=u+((i=(n=this.userToken)==null?void 0:n.user)==null?void 0:i.avatar),console.log(this.userToken)}).catch(e=>{p(e)})}),window.__jsb.getLoginUserInfo().then(o=>{var e,n;this.userToken=o.userToken,this.userHeader=u+((n=(e=this.userToken)==null?void 0:e.user)==null?void 0:n.avatar),console.log(this.userToken)}).catch(o=>{p(o)})},methods:{onClickLeft(){window.__jsb.pop()},logout(){S().then(o=>{window.__jsb.setLoginUserInfo(null),window.__jsb.replace({route:"login"})})},toForgetPwd(){window.__jsb.push({route:"forgetpassword"})},toEditName(){window.__jsb.push({route:"user-editnickname"})}}},_=o=>(b("data-v-f7fd2fb2"),o=o(),I(),o),H={class:"home"},N={class:"user"},U={class:"user_header"},A={class:"user_nickname"},E=_(()=>s("div",{class:"divider"},null,-1)),y=_(()=>s("span",{class:"change_pwd_hint"}," 修改密码",-1)),F=_(()=>s("div",{class:"divider"},null,-1));function P(o,e,n,i,d,t){var c,l;const m=C,h=j,g=L;return v(),k("div",H,[a(m,{class:"nav_bar",title:"我的",onClickLeft:t.onClickLeft},null,8,["onClickLeft"]),s("div",N,[s("div",U,[a(h,{width:"70px",height:"70px",src:d.userHeader},null,8,["src"])]),s("div",A,w((l=(c=d.userToken)==null?void 0:c.user)==null?void 0:l.nickname),1),s("img",{class:"user_nickname_edit",src:x,onClick:e[0]||(e[0]=(...r)=>t.toEditName&&t.toEditName(...r))})]),E,s("div",{class:"change_pwd",onClick:e[1]||(e[1]=(...r)=>t.toForgetPwd&&t.toForgetPwd(...r))},[y,a(g,{class:"right",name:"arrow"})]),F,s("div",{class:"login_out",onClick:e[2]||(e[2]=(...r)=>t.logout&&t.logout(...r))},"退出登录")])}const V=f(B,[["render",P],["__scopeId","data-v-f7fd2fb2"]]);T(V).mount("#root");

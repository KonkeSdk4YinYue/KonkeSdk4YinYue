import{_ as C,c as l,b as _,a as s,w as x,F as f,r as w,g as u,v as m,o as r,t as p,Q as g,p as M,d as y,e as N}from"./_plugin-vue_export-helper-441d49bc.js";import"./index-3c7dc3c1.js";/* empty css              */import{S as T}from"./index-188b2d04.js";import{T as V,a as j}from"./index-52a57577.js";import{_ as E}from"./nav-bar-d5f559a7.js";import{P as F,Q as B,s as L}from"./api-69fa8fe6.js";import{g as S}from"./scene-cfbe032f.js";import{_ as k}from"./ic_scene1-0f866639.js";import{_ as U}from"./ic_add_room-ca6db507.js";import{a as h}from"./function-call-06d9c54b.js";import"./index-1c01d136.js";import"./use-id-bbee3c24.js";import"./use-touch-a55357c8.js";import"./use-route-ace38816.js";import"./dev-image-f6fc399c.js";import"./index-9bebd057.js";const Q={name:"KonkeSdk4YinYueSrcApp",data(){return{active:0,sceneManualList:[],sceneAutoList:[],showAddIcon:!0}},mounted(){window.__eventBus.on("reload",e=>{this.getManualList(),this.getAutoList()}),this.getManualList(),this.getAutoList()},methods:{onClickLeft(){window.__jsb.pop()},editManualScene(e){window.__jsb.push({route:"scene-manual",params:{sceneId:e.sceneId}})},editAutoScene(e){window.__jsb.push({route:"scene-auto",params:{sceneId:e.sceneId}})},async executeScene(e){try{await F({sceneId:e.sceneId}),h("执行成功")}catch(t){console.log(t),h("执行失败")}},changeState(e){e.state,B(e.sceneId,e.state).then(t=>{}).catch(t=>{h(t)})},getManualList(){L(!0).then(e=>{this.sceneManualList=e.data.sceneList,this.sceneManualList.forEach(t=>{let n="";t.actionList.forEach(o=>{o.actionType=="Device"&&(n+=S(o.actionName),n+=o.userDevice.deviceName,n+="、")}),t.desc=n})}).catch(e=>console.log(e))},getAutoList(){L(!1).then(e=>{this.sceneAutoList=e.data.sceneList,this.sceneAutoList.forEach(t=>{let n="";t.actionList.forEach(o=>{o.actionType=="Device"&&(n+=S(o.actionName),n+=o.userDevice.deviceName,n+="、")}),t.desc=n})}).catch(e=>console.log(e))},addScene(){this.active==0?window.__jsb.push({route:"scene-manual",params:{sceneId:-1}}):window.__jsb.push({route:"scene-auto",params:{sceneId:-1}})}}},b=e=>(M("data-v-c4435bd7"),e=e(),y(),e),Y={class:"home"},K={class:"tab_line"},P={class:"scene_list"},q=["onClick"],z=b(()=>s("div",{class:"scene_img"},[s("img",{src:k})],-1)),G={class:"scene_name"},H={class:"scene_desc"},J=["onClick"],O={class:"scene_list"},R=["onClick"],W=b(()=>s("div",{class:"scene_img"},[s("img",{src:k})],-1)),X={class:"scene_name"},Z={class:"scene_desc"},$={class:"checkStatus"};function ee(e,t,n,o,a,i){const A=E,v=j,D=V,I=T;return r(),l("div",Y,[_(A,{class:"nav_bar",title:"场景",onClickLeft:i.onClickLeft},null,8,["onClickLeft"]),s("div",K,[_(D,{active:a.active,"onUpdate:active":t[0]||(t[0]=c=>a.active=c),color:"#FD7D28","title-active-color":"#FD7D28","title-inactive-color":"#666666",sticky:"",animated:"",shrink:""},{default:x(()=>[_(v,{title:"手动场景",name:"0"}),_(v,{title:"自动场景",name:"1"})]),_:1},8,["active"])]),(r(!0),l(f,null,w(a.sceneManualList,c=>u((r(),l("div",P,[s("div",{class:"scene_item",onClick:d=>i.editManualScene(c)},[z,s("div",null,[s("span",G,p(c.sceneName),1),s("span",H,p(c.desc),1)]),s("div",{class:"exec",onClick:g(d=>i.executeScene(c),["stop"])},"执行",8,J)],8,q)],512)),[[m,a.active==0]])),256)),(r(!0),l(f,null,w(a.sceneAutoList,c=>u((r(),l("div",O,[s("div",{class:"scene_item",onClick:d=>i.editAutoScene(c)},[W,s("div",null,[s("span",X,p(c.sceneName),1),s("span",Z,p(c.desc),1)]),s("div",$,[_(I,{modelValue:c.state,"onUpdate:modelValue":d=>c.state=d,"active-color":"#FD7D28","inactive-color":"#dcdee0",onClick:g(d=>{i.changeState(c)},["stop"])},null,8,["modelValue","onUpdate:modelValue","onClick"])])],8,R)],512)),[[m,a.active==1]])),256)),u(s("img",{class:"add_icon",src:U,alt:"",style:{width:"75px",height:"75px"},onClick:t[1]||(t[1]=(...c)=>i.addScene&&i.addScene(...c))},null,512),[[m,a.showAddIcon]])])}const se=C(Q,[["render",ee],["__scopeId","data-v-c4435bd7"]]);N(se).mount("#root");

import{_ as u,c as p,a as h,f as s,n as g,t as O,o as k,g as D}from"./_plugin-vue_export-helper-4adca727.js";import{_ as I}from"./nav-bar-94bf83b0.js";import{g as C}from"./urlparse-f25d0f77.js";import{l as w,k as b}from"./api-61c15ffa.js";import{a as i}from"./function-call-38737c8a.js";import"./index-f4bb52ea.js";import"./use-expose-f66499b2.js";import"./index-d76ffcb6.js";import"./use-touch-330ddaa2.js";import"./index-08ecd083.js";const x=""+new URL("ic_light_on-c743539b.svg",import.meta.url).href,F=""+new URL("ic_light_off-fccb72a9.svg",import.meta.url).href;const L={name:"KonkeSdk4YinYueSrcApp",data(){return{devId:0,userDevice:{},icOn:x,icOff:F}},mounted(){window.__eventBus.on("reload",e=>{this.getDevInfo()}),this.getParams()},methods:{onClickLeft(){window.__jsb.pop()},onClickRight(){window.__jsb.push({route:"devedit",params:{devId:this.devId}})},getParams(){let e=window.location.search;const t=C(e);console.log(t),t!=null&&"devId"in t&&(this.devId=t.devId,this.getDevInfo())},getDevInfo(){w({userDeviceId:this.devId}).then(e=>{console.log(e),this.userDevice=e.data.userDeviceList[0]}).catch(e=>i(e))},turnOnOff(){this.isSelSpeed=!1,this.isSelMode=!1,this.devControl(this.userDevice.cache.extension.turnOnOff?"TurnOff":"TurnOn")},devControl(e){b(this.devId,e).then(t=>{i("控制成功")}).catch(t=>i(t))}}},S={class:"home"},y=["src"];function A(e,t,N,R,n,o){var c,r,a,l,d,f,_;const v=I;return k(),p("div",S,[h(v,{class:"nav_bar",title:n.userDevice.deviceName,onClickLeft:o.onClickLeft,"right-text":"编辑",onClick:o.onClickRight},null,8,["title","onClickLeft","onClick"]),s("div",{class:"btn",onClick:t[0]||(t[0]=(...m)=>o.turnOnOff&&o.turnOnOff(...m))},[s("img",{class:"imgbtn",src:(a=(r=(c=n.userDevice)==null?void 0:c.cache)==null?void 0:r.extension)!=null&&a.turnOnOff?n.icOn:n.icOff},null,8,y),s("div",{class:"text",style:g({color:(f=(d=(l=n.userDevice)==null?void 0:l.cache)==null?void 0:d.extension)!=null&&f.turnOnOff?"#FFFFFF":"#6F6F74"})},O((_=n.userDevice)==null?void 0:_.deviceName),5)])])}const B=u(L,[["render",A],["__scopeId","data-v-d04f2e91"]]);D(B).mount("#root");

import{_ as D,c,b as t,a as r,g as B,t as o,d as g,I as w,o as l,F as k,r as I,n as C,f as F,i as M}from"./_plugin-vue_export-helper-ae94e834.js";import"./index-5198b2b7.js";import{L as T}from"./index-3d928aae.js";import{B as j}from"./index-46966e79.js";import{I as N}from"./index-9cad779b.js";import{D as O}from"./default_female_avatar-3bbfb1af.js";import{D as P}from"./default_male_avatar-835185e5.js";import{A as y}from"./api-3777ac7b.js";import"./use-expose-833097fe.js";import"./use-tab-status-ea9b54fd.js";import"./use-route-fa444ad9.js";import"./constant-eb256a74.js";const V=""+new URL("coin_icon-f97d0eba.svg",import.meta.url).href;const z={name:"AssignmentList",data(){return{CoinIcon:V,MaleAvatar:P,gold:0,score:0,FealeAvatar:O,userInfo:{},loading:!1,finished:!1,taskDetailBOList:[]}},async mounted(){this.getMyInfo()},methods:{async getMyInfo(){const{data:i}=await y.getMyInfo();this.userInfo=i},handleTask(i){const{appAction:e}=i;console.log(e),e==="native://portal/homeActivity"&&__jsb.pop(),e==="native://dynamic/editInfoActivity"&&__jsb.push({route:"edit-info"}),e==="native://dynamic/authActivity"&&__jsb.push({route:"real-auth"}),e==="native://portal/charge"&&__jsb.push({route:"charge"})},async getTaskList(){this.loading=!0;const{data:i}=await y.getTaskList(),{gold:e,score:_,taskDetailBOList:f=[]}=i;this.gold=e.toFixed(1),this.score=_.toFixed(1),this.taskDetailBOList=f,console.log(this.score),this.loading=!1,this.finished=!0},pop(){__jsb.pop()}}},U={class:"assignment-list"},E={class:"assigment-bg"},R={class:"info"},S={class:"balance"},q={class:"tips"},G={class:"number"},H={class:"task-title"},J={class:"item-text"},K={class:"item-text-name"},Q={class:"item-text-desc"},W={class:"item-right"},X={class:"item-value"};function Y(i,e,_,f,s,d){var h,p,u,v;const A=w,m=N,L=j,b=T;return l(),c("div",U,[t("div",E,[r(A,{name:"arrow-left",color:"#fff",size:"22px",onClick:B(d.pop,["stop"])},null,8,["onClick"]),t("div",R,[t("div",S,[t("div",q,o(((h=s.userInfo)==null?void 0:h.gender)===2?"积分":"金币")+"余额",1),t("div",G,o(s.score),1)]),r(m,{width:"78",height:"78",radius:"50%",src:(p=s.userInfo)!=null&&p.headPic?(u=s.userInfo)==null?void 0:u.headPic:((v=s.userInfo)==null?void 0:v.gender)===2?s.FealeAvatar:s.MaleAvatar,fit:"cover",class:"avatar"},null,8,["src"])])]),r(b,{loading:s.loading,"onUpdate:loading":e[0]||(e[0]=n=>s.loading=n),finished:s.finished,onLoad:d.getTaskList,class:"task-list"},{default:g(()=>[(l(!0),c(k,null,I(s.taskDetailBOList,(n,x)=>(l(),c("div",{class:"task-item",key:x},[t("div",H,o(n.taskLevelName),1),(l(!0),c(k,null,I(n.taskDetailBOList,a=>(l(),c("div",{class:"task-item-i",key:n.taskType},[r(m,{src:s.CoinIcon,width:"30",height:"30"},null,8,["src"]),t("div",J,[t("div",K,o(a.taskName),1),t("div",Q,o(a.taskDesc),1)]),t("div",W,[t("div",X,o(a.benefit),1),r(L,{round:"",block:"",class:C({finished:a.finish}),onClick:$=>d.handleTask(a)},{default:g(()=>[F(o(a.finish?"已完成":"去完成"),1)]),_:2},1032,["class","onClick"])])]))),128))]))),128))]),_:1},8,["loading","finished","onLoad"])])}const Z=D(z,[["render",Y],["__scopeId","data-v-7f7ba9c5"]]);M(Z).mount("#root");

import{_ as k,o as n,c as m,F as v,r as x,a as e,d as c,b as _,j as p,e as d,f as P,k as T,i as V}from"./_plugin-vue_export-helper-ae94e834.js";import{I as C}from"./index-9cad779b.js";import"./index-5198b2b7.js";import{L as N}from"./index-3d928aae.js";import{N as F,A as z,B as E}from"./notice_icon-db89d479.js";import{P as O}from"./index-ca2a2be7.js";import{_ as j}from"./dynamic-cell-eae223cb.js";import{E as U}from"./index-44c3c42c.js";import{B as H}from"./index-46966e79.js";import{_ as q}from"./navbar-dd7c7647.js";import{_ as G}from"./safe-area-top-6391331c.js";import{A as y}from"./api-3777ac7b.js";import{S as L,a as J,b,c as w,d as B}from"./index-af5b6666.js";/* empty css              */import"./use-expose-833097fe.js";import"./use-tab-status-ea9b54fd.js";import"./use-touch-b8f7fc8d.js";import"./accost-button-621bb3da.js";import"./default_female_avatar-3bbfb1af.js";import"./function-call-d8608672.js";import"./index-c49f2c8f.js";import"./index-6f826b23.js";import"./on-popup-reopen-34d1e964.js";import"./interceptor-c174082f.js";import"./constant-eb256a74.js";import"./default_male_avatar-835185e5.js";import"./real_person-47fbf4f0.js";import"./use-id-b8b960f0.js";import"./use-route-fa444ad9.js";const K={name:"Home",components:{Skeleton:L,SkeletonTitle:J,SkeletonImage:b,SkeletonAvatar:w,SkeletonParagraph:B},data(){return{}}},Q={class:"home-page-skeleton"},W={style:{width:"100%",marginTop:"20px",marginBottom:"20px"}},X={style:{display:"flex",width:"100%",marginTop:"20px",marginBottom:"20px"}},Y={style:{display:"flex",flexDirection:"column",width:"100%"}},Z={style:{display:"flex",marginTop:"10px"}};function $(s,o,g,S,t,a){const h=w,r=B,l=b,u=L;return n(),m("div",Q,[(n(),m(v,null,x(4,f=>e(u,{row:3,key:f},{template:c(()=>[_("div",W,[_("div",X,[e(h,{"avatar-size":"48"}),_("div",Y,[e(r,{"row-width":"40%"}),e(r)])]),e(r),e(r),e(r),_("div",Z,[e(l,{"image-size":"108",style:{marginRight:"16px"}}),e(l,{"image-size":"108",style:{marginRight:"16px"}}),e(l,{"image-size":"108"})])])]),_:2},1024)),64))])}const ee=k(K,[["render",$],["__scopeId","data-v-3305650d"]]);const oe={name:"Dynamic",components:{Skeleton:ee},data(){return{NoticeIcon:F,AddIcon:z,list:[],isRefreshing:!1,isLoadingMore:!1,isFinished:!1,pageLoading:!1,tab:"dynamic"}},computed:{minId(){var s,o;return(o=(s=this.list[this.list.length-1])==null?void 0:s.accountDynamicBO)==null?void 0:o.id},hasData(){return this.list.length>0}},created(){this.pageLoading=!0,this.refresh()},methods:{toPublish(){__jsb.push({route:"dynamic-publish"})},async loadMore(){setTimeout(()=>{this.isLoadingMore=!1},1e3)},async refresh(){try{const{data:s}=await y.getMyInfo(),{data:o}=await y.getMyDynamic();this.list=o==null?void 0:o.map(g=>({...g,accountBO:s})),console.log(o)}catch(s){this.list=[],console.log(s)}finally{this.isRefreshing=!1,this.isFinished=this.list.length===0,this.pageLoading=!1}}}},te={class:"venus-dynamic"};function ne(s,o,g,S,t,a){const h=G,r=q,l=T("Skeleton"),u=H,f=U,I=j,R=O,A=E,D=N,M=C;return n(),m("div",te,[e(h),e(r,{title:"我的动态"}),t.pageLoading?(n(),p(l,{key:0})):d("",!0),!a.hasData&&!t.pageLoading?(n(),p(f,{key:1,description:"暂无数据"},{default:c(()=>[e(u,{round:"",class:"bottom-button",onClick:a.refresh,loading:t.isRefreshing},{default:c(()=>[P("刷新")]),_:1},8,["onClick","loading"])]),_:1})):d("",!0),t.pageLoading?d("",!0):(n(),p(D,{key:2,loading:t.isLoadingMore,"onUpdate:loading":o[1]||(o[1]=i=>t.isLoadingMore=i),finished:t.isFinished,onLoad:a.loadMore,"immediate-check":!1,class:"scrollable"},{default:c(()=>[e(R,{modelValue:t.isRefreshing,"onUpdate:modelValue":o[0]||(o[0]=i=>t.isRefreshing=i),onRefresh:a.refresh},{default:c(()=>[(n(!0),m(v,null,x(t.list,i=>(n(),p(I,{key:i.accountDynamicBO.id,item:i,canShowDetail:"",canShowAccost:!1,canShowReal:!1},null,8,["item"]))),128))]),_:1},8,["modelValue","onRefresh"]),e(A)]),_:1},8,["loading","finished","onLoad"])),t.pageLoading?d("",!0):(n(),m("div",{key:3,class:"dynamic-add",onClick:o[2]||(o[2]=(...i)=>a.toPublish&&a.toPublish(...i))},[e(M,{src:t.AddIcon,width:"18px",height:"18px"},null,8,["src"])]))])}const se=k(oe,[["render",ne],["__scopeId","data-v-7193f62c"]]),ie=V(se);ie.mount("#root");
